function e(e,t){for(const r of t)for(const t of Object.getOwnPropertyNames(r.prototype)){if("constructor"===t)continue;const n=Object.getOwnPropertyDescriptor(r.prototype,t);Object.defineProperty(e.prototype,t,n)}}class t{constructor(e){this.subject=e}}class r extends t{[Symbol.iterator](){return this.subject[Symbol.iterator]()}}function*n(e,t){let r=[],n=0;for(const o of e)r.push(o),t(o,n)&&(yield r,r=[]),n++;r.length&&(yield r)}class o extends Error{constructor(){super(...arguments),this.name=this.constructor.name}}class s extends RangeError{constructor(){super(...arguments),this.name=this.constructor.name}}class i extends o{}class a extends s{constructor(e,t){super(t?`${e} argument must be ${t}`:`Invalid ${e} value`)}}function c(e,t){if(t<=0)throw new a("size","> 0");return function*(){let r=[];for(const n of e)r.push(n),r.length>=t&&(yield r,r=[]);r.length&&(yield r)}()}function u(e,...t){return function*(){for(const r of[e,...t])yield*r}()}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
function l(e,t,r,n){return new(r||(r=Promise))((function(o,s){function i(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}c((n=n.apply(e,t||[])).next())}))}function d(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function f(e){return this instanceof f?(this.v=e,this):new f(e)}function h(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,o=r.apply(e,t||[]),s=[];return n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n;function i(e){o[e]&&(n[e]=function(t){return new Promise((function(r,n){s.push([e,t,r,n])>1||a(e,t)}))})}function a(e,t){try{(r=o[e](t)).value instanceof f?Promise.resolve(r.value.v).then(c,u):l(s[0][2],r)}catch(e){l(s[0][3],e)}var r}function c(e){a("next",e)}function u(e){a("throw",e)}function l(e,t){e(t),s.shift(),s.length&&a(s[0][0],s[0][1])}}function p(e){var t,r;return t={},n("next"),n("throw",(function(e){throw e})),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,o){t[n]=e[n]?function(t){return(r=!r)?{value:f(e[n](t)),done:"return"===n}:o?o(t):t}:o}}function m(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=d(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise((function(n,o){(function(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)})(n,o,(t=e[r](t)).done,t.value)}))}}}function y(e){return h(this,arguments,(function*(){var t,r;try{for(var n,o=m(e);!(n=yield f(o.next())).done;){const e=n.value;yield yield f(e)}}catch(e){t={error:e}}finally{try{n&&!n.done&&(r=o.return)&&(yield f(r.call(o)))}finally{if(t)throw t.error}}}))}function*v(e){for(const t of e)yield t}function g(e,t){if(t<0)throw new a("count",">= 0");return 0===t?v(e):function*(){const r=Array.from(e);yield*r.slice(0,-t)}()}function*$(e,t){const r=e[Symbol.iterator]();let n,o=0;for(;!(n=r.next(),n.done||t(n.value,o++)););for(;!n.done;)yield n.value,n=r.next()}function w(e,t){if(t<0)throw new a("count",">= 0");return 0===t?v(e):function*(){const r=e[Symbol.iterator]();let n;for(;!(n=r.next(),n.done||t<=0);)t--;for(;!n.done;)yield n.value,n=r.next()}()}function*b(e,t){let r=0;for(const n of e)t(n,r)&&(yield n),r++}var _="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function S(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach((function(r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})})),t}function E(e){var t={exports:{}};return e(t,t.exports),t.exports}var x=E((function(e,t){function r(e){return null===e}t.isntNull=t.isNull=void 0,t.isNull=r,t.isntNull=function(e){return!r(e)}})),P=E((function(e,t){function r(e){return void 0===e}t.isntUndefined=t.isUndefined=void 0,t.isUndefined=r,t.isntUndefined=function(e){return!r(e)}})),j=E((function(e,t){function r(e){return x.isntNull(e)&&P.isntUndefined(e)&&"function"==typeof e[Symbol.asyncIterator]}t.isntAsyncIterable=t.isAsyncIterable=void 0,t.isAsyncIterable=r,t.isntAsyncIterable=function(e){return!r(e)}})),N=E((function(e,t){function r(e){return n(e)||o(e)}function n(e){return"string"==typeof e}function o(e){return"object"==typeof e&&e instanceof String}t.isntStringObject=t.isStringObject=t.isntStringPrimitive=t.isStringPrimitive=t.isntString=t.isString=void 0,t.isString=r,t.isntString=function(e){return!r(e)},t.isStringPrimitive=n,t.isntStringPrimitive=function(e){return!n(e)},t.isStringObject=o,t.isntStringObject=function(e){return!o(e)}})),k=E((function(e,t){function r(e){return(N.isString(e)||N.isStringObject(e))&&1===e.length}function n(e){return N.isString(e)&&1===e.length}function o(e){return N.isStringObject(e)&&1===e.length}t.isntCharObject=t.isCharObject=t.isntCharPrimitive=t.isCharPrimitive=t.isntChar=t.isChar=void 0,t.isChar=r,t.isntChar=function(e){return!r(e)},t.isCharPrimitive=n,t.isntCharPrimitive=function(e){return!n(e)},t.isCharObject=o,t.isntCharObject=function(e){return!o(e)}})),C=E((function(e,t){function r(e){return!e}t.isntFalsy=t.isFalsy=void 0,t.isFalsy=r,t.isntFalsy=function(e){return!r(e)}})),I=E((function(e,t){function r(e){return"function"==typeof e}t.isntFunction=t.isFunction=void 0,t.isFunction=r,t.isntFunction=function(e){return!r(e)}})),O=E((function(e,t){function r(e){return x.isntNull(e)&&P.isntUndefined(e)&&"function"==typeof e[Symbol.iterator]}t.isntIterable=t.isIterable=void 0,t.isIterable=r,t.isntIterable=function(e){return!r(e)}})),A=E((function(e,t){t.getRules=t.isJSONType=void 0;const r=new Set(["string","number","integer","boolean","null","object","array"]);t.isJSONType=function(e){return"string"==typeof e&&r.has(e)},t.getRules=function(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}})),R=E((function(e,t){function r(e,t){return t.rules.some((t=>n(e,t)))}function n(e,t){var r;return void 0!==e[t.keyword]||(null===(r=t.definition.implements)||void 0===r?void 0:r.some((t=>void 0!==e[t])))}t.shouldUseRule=t.shouldUseGroup=t.schemaHasRulesForType=void 0,t.schemaHasRulesForType=function({schema:e,self:t},n){const o=t.RULES.types[n];return o&&!0!==o&&r(e,o)},t.shouldUseGroup=r,t.shouldUseRule=n})),T=E((function(e,t){t.getProperty=t.safeStringify=t.stringify=t.strConcat=t.addCodeArg=t.str=t._=t.nil=t._Code=t.Name=t.IDENTIFIER=t._CodeOrName=void 0;class r{}t._CodeOrName=r,t.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class n extends r{constructor(e){if(super(),!t.IDENTIFIER.test(e))throw new Error("CodeGen: name must be a valid identifier");this.str=e}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}t.Name=n;class o extends r{constructor(e){super(),this._items="string"==typeof e?[e]:e}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const e=this._items[0];return""===e||'""'===e}get str(){var e;return null!==(e=this._str)&&void 0!==e?e:this._str=this._items.reduce(((e,t)=>`${e}${t}`),"")}get names(){var e;return null!==(e=this._names)&&void 0!==e?e:this._names=this._items.reduce(((e,t)=>(t instanceof n&&(e[t.str]=(e[t.str]||0)+1),e)),{})}}function s(e,...t){const r=[e[0]];let n=0;for(;n<t.length;)c(r,t[n]),r.push(e[++n]);return new o(r)}t._Code=o,t.nil=new o(""),t._=s;const i=new o("+");function a(e,...t){const r=[l(e[0])];let n=0;for(;n<t.length;)r.push(i),c(r,t[n]),r.push(i,l(e[++n]));return function(e){let t=1;for(;t<e.length-1;){if(e[t]===i){const r=u(e[t-1],e[t+1]);if(void 0!==r){e.splice(t-1,3,r);continue}e[t++]="+"}t++}}(r),new o(r)}function c(e,t){var r;t instanceof o?e.push(...t._items):t instanceof n?e.push(t):e.push("number"==typeof(r=t)||"boolean"==typeof r||null===r?r:l(Array.isArray(r)?r.join(","):r))}function u(e,t){if('""'===t)return e;if('""'===e)return t;if("string"==typeof e){if(t instanceof n||'"'!==e[e.length-1])return;return"string"!=typeof t?`${e.slice(0,-1)}${t}"`:'"'===t[0]?e.slice(0,-1)+t.slice(1):void 0}return"string"!=typeof t||'"'!==t[0]||e instanceof n?void 0:`"${e}${t.slice(1)}`}function l(e){return JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}t.str=a,t.addCodeArg=c,t.strConcat=function(e,t){return t.emptyStr()?e:e.emptyStr()?t:a`${e}${t}`},t.stringify=function(e){return new o(l(e))},t.safeStringify=l,t.getProperty=function(e){return"string"==typeof e&&t.IDENTIFIER.test(e)?new o(`.${e}`):s`[${e}]`}})),D=E((function(e,t){t.ValueScope=t.ValueScopeName=t.Scope=t.varKinds=t.UsedValueState=void 0;class r extends Error{constructor(e){super(`CodeGen: "code" for ${e} not defined`),this.value=e.value}}var n;!function(e){e[e.Started=0]="Started",e[e.Completed=1]="Completed"}(n=t.UsedValueState||(t.UsedValueState={})),t.varKinds={const:new T.Name("const"),let:new T.Name("let"),var:new T.Name("var")};class o{constructor({prefixes:e,parent:t}={}){this._names={},this._prefixes=e,this._parent=t}toName(e){return e instanceof T.Name?e:this.name(e)}name(e){return new T.Name(this._newName(e))}_newName(e){return`${e}${(this._names[e]||this._nameGroup(e)).index++}`}_nameGroup(e){var t,r;if((null===(r=null===(t=this._parent)||void 0===t?void 0:t._prefixes)||void 0===r?void 0:r.has(e))||this._prefixes&&!this._prefixes.has(e))throw new Error(`CodeGen: prefix "${e}" is not allowed in this scope`);return this._names[e]={prefix:e,index:0}}}t.Scope=o;class s extends T.Name{constructor(e,t){super(t),this.prefix=e}setValue(e,{property:t,itemIndex:r}){this.value=e,this.scopePath=T._`.${new T.Name(t)}[${r}]`}}t.ValueScopeName=s;const i=T._`\n`;t.ValueScope=class extends o{constructor(e){super(e),this._values={},this._scope=e.scope,this.opts={...e,_n:e.lines?i:T.nil}}get(){return this._scope}name(e){return new s(e,this._newName(e))}value(e,t){var r;if(void 0===t.ref)throw new Error("CodeGen: ref must be passed in value");const n=this.toName(e),{prefix:o}=n,s=null!==(r=t.key)&&void 0!==r?r:t.ref;let i=this._values[o];if(i){const e=i.get(s);if(e)return e}else i=this._values[o]=new Map;i.set(s,n);const a=this._scope[o]||(this._scope[o]=[]),c=a.length;return a[c]=t.ref,n.setValue(t,{property:o,itemIndex:c}),n}getValue(e,t){const r=this._values[e];if(r)return r.get(t)}scopeRefs(e,t=this._values){return this._reduceValues(t,(t=>{if(void 0===t.scopePath)throw new Error(`CodeGen: name "${t}" has no value`);return T._`${e}${t.scopePath}`}))}scopeCode(e=this._values,t,r){return this._reduceValues(e,(e=>{if(void 0===e.value)throw new Error(`CodeGen: name "${e}" has no value`);return e.value.code}),t,r)}_reduceValues(e,o,s={},i){let a=T.nil;for(const c in e){const u=e[c];if(!u)continue;const l=s[c]=s[c]||new Map;u.forEach((e=>{if(l.has(e))return;l.set(e,n.Started);let s=o(e);if(s){const r=this.opts.es5?t.varKinds.var:t.varKinds.const;a=T._`${a}${r} ${e} = ${s};${this.opts._n}`}else{if(!(s=null==i?void 0:i(e)))throw new r(e);a=T._`${a}${s}${this.opts._n}`}l.set(e,n.Completed)}))}return a}}})),V=E((function(e,t){t.or=t.and=t.not=t.CodeGen=t.operators=t.varKinds=t.ValueScopeName=t.ValueScope=t.Scope=t.Name=t.stringify=t.getProperty=t.nil=t.strConcat=t.str=t._=void 0;var r=T;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(t,"strConcat",{enumerable:!0,get:function(){return r.strConcat}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(t,"getProperty",{enumerable:!0,get:function(){return r.getProperty}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return r.Name}});var n=D;Object.defineProperty(t,"Scope",{enumerable:!0,get:function(){return n.Scope}}),Object.defineProperty(t,"ValueScope",{enumerable:!0,get:function(){return n.ValueScope}}),Object.defineProperty(t,"ValueScopeName",{enumerable:!0,get:function(){return n.ValueScopeName}}),Object.defineProperty(t,"varKinds",{enumerable:!0,get:function(){return n.varKinds}}),t.operators={GT:new T._Code(">"),GTE:new T._Code(">="),LT:new T._Code("<"),LTE:new T._Code("<="),EQ:new T._Code("==="),NEQ:new T._Code("!=="),NOT:new T._Code("!"),OR:new T._Code("||"),AND:new T._Code("&&")};class o{optimizeNodes(){return this}optimizeNames(e,t){return this}}class s extends o{constructor(e,t,r){super(),this.varKind=e,this.name=t,this.rhs=r}render({es5:e,_n:t}){const r=e?D.varKinds.var:this.varKind,n=void 0===this.rhs?"":` = ${this.rhs}`;return`${r} ${this.name}${n};`+t}optimizeNames(e,t){if(e[this.name.str])return this.rhs&&(this.rhs=j(this.rhs,e,t)),this}get names(){return this.rhs instanceof T._CodeOrName?this.rhs.names:{}}}class i extends o{constructor(e,t,r){super(),this.lhs=e,this.rhs=t,this.sideEffects=r}render({_n:e}){return`${this.lhs} = ${this.rhs};`+e}optimizeNames(e,t){if(!(this.lhs instanceof T.Name)||e[this.lhs.str]||this.sideEffects)return this.rhs=j(this.rhs,e,t),this}get names(){return P(this.lhs instanceof T.Name?{}:{...this.lhs.names},this.rhs)}}class a extends o{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`${this.label}:`+e}}class c extends o{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`break${this.label?` ${this.label}`:""};`+e}}class u extends o{constructor(e){super(),this.error=e}render({_n:e}){return`throw ${this.error};`+e}get names(){return this.error.names}}class l extends o{constructor(e){super(),this.code=e}render({_n:e}){return`${this.code};`+e}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(e,t){return this.code=j(this.code,e,t),this}get names(){return this.code instanceof T._CodeOrName?this.code.names:{}}}class d extends o{constructor(e=[]){super(),this.nodes=e}render(e){return this.nodes.reduce(((t,r)=>t+r.render(e)),"")}optimizeNodes(){const{nodes:e}=this;let t=e.length;for(;t--;){const r=e[t].optimizeNodes();Array.isArray(r)?e.splice(t,1,...r):r?e[t]=r:e.splice(t,1)}return e.length>0?this:void 0}optimizeNames(e,t){const{nodes:r}=this;let n=r.length;for(;n--;){const o=r[n];o.optimizeNames(e,t)||(N(e,o.names),r.splice(n,1))}return r.length>0?this:void 0}get names(){return this.nodes.reduce(((e,t)=>x(e,t.names)),{})}}class f extends d{render(e){return"{"+e._n+super.render(e)+"}"+e._n}}class h extends d{}class p extends f{}p.kind="else";class m extends f{constructor(e,t){super(t),this.condition=e}render(e){let t=`if(${this.condition})`+super.render(e);return this.else&&(t+="else "+this.else.render(e)),t}optimizeNodes(){super.optimizeNodes();const e=this.condition;if(!0===e)return this.nodes;let t=this.else;if(t){const e=t.optimizeNodes();t=this.else=Array.isArray(e)?new p(e):e}return t?!1===e?t instanceof m?t:t.nodes:this.nodes.length?this:new m(k(e),t instanceof m?[t]:t.nodes):!1!==e&&this.nodes.length?this:void 0}optimizeNames(e,t){var r;if(this.else=null===(r=this.else)||void 0===r?void 0:r.optimizeNames(e,t),super.optimizeNames(e,t)||this.else)return this.condition=j(this.condition,e,t),this}get names(){const e=super.names;return P(e,this.condition),this.else&&x(e,this.else.names),e}}m.kind="if";class y extends f{}y.kind="for";class v extends y{constructor(e){super(),this.iteration=e}render(e){return`for(${this.iteration})`+super.render(e)}optimizeNames(e,t){if(super.optimizeNames(e,t))return this.iteration=j(this.iteration,e,t),this}get names(){return x(super.names,this.iteration.names)}}class g extends y{constructor(e,t,r,n){super(),this.varKind=e,this.name=t,this.from=r,this.to=n}render(e){const t=e.es5?D.varKinds.var:this.varKind,{name:r,from:n,to:o}=this;return`for(${t} ${r}=${n}; ${r}<${o}; ${r}++)`+super.render(e)}get names(){const e=P(super.names,this.from);return P(e,this.to)}}class $ extends y{constructor(e,t,r,n){super(),this.loop=e,this.varKind=t,this.name=r,this.iterable=n}render(e){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(e)}optimizeNames(e,t){if(super.optimizeNames(e,t))return this.iterable=j(this.iterable,e,t),this}get names(){return x(super.names,this.iterable.names)}}class w extends f{constructor(e,t,r){super(),this.name=e,this.args=t,this.async=r}render(e){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(e)}}w.kind="func";class b extends d{render(e){return"return "+super.render(e)}}b.kind="return";class _ extends f{render(e){let t="try"+super.render(e);return this.catch&&(t+=this.catch.render(e)),this.finally&&(t+=this.finally.render(e)),t}optimizeNodes(){var e,t;return super.optimizeNodes(),null===(e=this.catch)||void 0===e||e.optimizeNodes(),null===(t=this.finally)||void 0===t||t.optimizeNodes(),this}optimizeNames(e,t){var r,n;return super.optimizeNames(e,t),null===(r=this.catch)||void 0===r||r.optimizeNames(e,t),null===(n=this.finally)||void 0===n||n.optimizeNames(e,t),this}get names(){const e=super.names;return this.catch&&x(e,this.catch.names),this.finally&&x(e,this.finally.names),e}}class S extends f{constructor(e){super(),this.error=e}render(e){return`catch(${this.error})`+super.render(e)}}S.kind="catch";class E extends f{render(e){return"finally"+super.render(e)}}E.kind="finally";function x(e,t){for(const r in t)e[r]=(e[r]||0)+(t[r]||0);return e}function P(e,t){return t instanceof T._CodeOrName?x(e,t.names):e}function j(e,t,r){return e instanceof T.Name?o(e):(n=e)instanceof T._Code&&n._items.some((e=>e instanceof T.Name&&1===t[e.str]&&void 0!==r[e.str]))?new T._Code(e._items.reduce(((e,t)=>(t instanceof T.Name&&(t=o(t)),t instanceof T._Code?e.push(...t._items):e.push(t),e)),[])):e;var n;function o(e){const n=r[e.str];return void 0===n||1!==t[e.str]?e:(delete t[e.str],n)}}function N(e,t){for(const r in t)e[r]=(e[r]||0)-(t[r]||0)}function k(e){return"boolean"==typeof e||"number"==typeof e||null===e?!e:T._`!${A(e)}`}t.CodeGen=class{constructor(e,t={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...t,_n:t.lines?"\n":""},this._extScope=e,this._scope=new D.Scope({parent:e}),this._nodes=[new h]}toString(){return this._root.render(this.opts)}name(e){return this._scope.name(e)}scopeName(e){return this._extScope.name(e)}scopeValue(e,t){const r=this._extScope.value(e,t);return(this._values[r.prefix]||(this._values[r.prefix]=new Set)).add(r),r}getScopeValue(e,t){return this._extScope.getValue(e,t)}scopeRefs(e){return this._extScope.scopeRefs(e,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(e,t,r,n){const o=this._scope.toName(t);return void 0!==r&&n&&(this._constants[o.str]=r),this._leafNode(new s(e,o,r)),o}const(e,t,r){return this._def(D.varKinds.const,e,t,r)}let(e,t,r){return this._def(D.varKinds.let,e,t,r)}var(e,t,r){return this._def(D.varKinds.var,e,t,r)}assign(e,t,r){return this._leafNode(new i(e,t,r))}code(e){return"function"==typeof e?e():e!==T.nil&&this._leafNode(new l(e)),this}object(...e){const t=["{"];for(const[r,n]of e)t.length>1&&t.push(","),t.push(r),(r!==n||this.opts.es5)&&(t.push(":"),T.addCodeArg(t,n));return t.push("}"),new T._Code(t)}if(e,t,r){if(this._blockNode(new m(e)),t&&r)this.code(t).else().code(r).endIf();else if(t)this.code(t).endIf();else if(r)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(e){return this._elseNode(new m(e))}else(){return this._elseNode(new p)}endIf(){return this._endBlockNode(m,p)}_for(e,t){return this._blockNode(e),t&&this.code(t).endFor(),this}for(e,t){return this._for(new v(e),t)}forRange(e,t,r,n,o=(this.opts.es5?D.varKinds.var:D.varKinds.let)){const s=this._scope.toName(e);return this._for(new g(o,s,t,r),(()=>n(s)))}forOf(e,t,r,n=D.varKinds.const){const o=this._scope.toName(e);if(this.opts.es5){const e=t instanceof T.Name?t:this.var("_arr",t);return this.forRange("_i",0,T._`${e}.length`,(t=>{this.var(o,T._`${e}[${t}]`),r(o)}))}return this._for(new $("of",n,o,t),(()=>r(o)))}forIn(e,t,r,n=(this.opts.es5?D.varKinds.var:D.varKinds.const)){if(this.opts.ownProperties)return this.forOf(e,T._`Object.keys(${t})`,r);const o=this._scope.toName(e);return this._for(new $("in",n,o,t),(()=>r(o)))}endFor(){return this._endBlockNode(y)}label(e){return this._leafNode(new a(e))}break(e){return this._leafNode(new c(e))}return(e){const t=new b;if(this._blockNode(t),this.code(e),1!==t.nodes.length)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(b)}try(e,t,r){if(!t&&!r)throw new Error('CodeGen: "try" without "catch" and "finally"');const n=new _;if(this._blockNode(n),this.code(e),t){const e=this.name("e");this._currNode=n.catch=new S(e),t(e)}return r&&(this._currNode=n.finally=new E,this.code(r)),this._endBlockNode(S,E)}throw(e){return this._leafNode(new u(e))}block(e,t){return this._blockStarts.push(this._nodes.length),e&&this.code(e).endBlock(t),this}endBlock(e){const t=this._blockStarts.pop();if(void 0===t)throw new Error("CodeGen: not in self-balancing block");const r=this._nodes.length-t;if(r<0||void 0!==e&&r!==e)throw new Error(`CodeGen: wrong number of nodes: ${r} vs ${e} expected`);return this._nodes.length=t,this}func(e,t=T.nil,r,n){return this._blockNode(new w(e,t,r)),n&&this.code(n).endFunc(),this}endFunc(){return this._endBlockNode(w)}optimize(e=1){for(;e-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(e){return this._currNode.nodes.push(e),this}_blockNode(e){this._currNode.nodes.push(e),this._nodes.push(e)}_endBlockNode(e,t){const r=this._currNode;if(r instanceof e||t&&r instanceof t)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${t?`${e.kind}/${t.kind}`:e.kind}"`)}_elseNode(e){const t=this._currNode;if(!(t instanceof m))throw new Error('CodeGen: "else" without "if"');return this._currNode=t.else=e,this}get _root(){return this._nodes[0]}get _currNode(){const e=this._nodes;return e[e.length-1]}set _currNode(e){const t=this._nodes;t[t.length-1]=e}},t.not=k;const C=O(t.operators.AND);t.and=function(...e){return e.reduce(C)};const I=O(t.operators.OR);function O(e){return(t,r)=>t===T.nil?r:r===T.nil?t:T._`${A(t)} ${e} ${A(r)}`}function A(e){return e instanceof T.Name?e:T._`(${e})`}t.or=function(...e){return e.reduce(I)}}));var U={default:{data:new V.Name("data"),valCxt:new V.Name("valCxt"),dataPath:new V.Name("dataPath"),parentData:new V.Name("parentData"),parentDataProperty:new V.Name("parentDataProperty"),rootData:new V.Name("rootData"),dynamicAnchors:new V.Name("dynamicAnchors"),vErrors:new V.Name("vErrors"),errors:new V.Name("errors"),this:new V.Name("this"),self:new V.Name("self"),scope:new V.Name("scope")}},F=E((function(e,t){function r(e,t){const r=e.const("err",t);e.if(V._`${U.default.vErrors} === null`,(()=>e.assign(U.default.vErrors,V._`[${r}]`)),V._`${U.default.vErrors}.push(${r})`),e.code(V._`${U.default.errors}++`)}function n(e,t){const{gen:r,validateName:n,schemaEnv:o}=e;o.$async?r.throw(V._`new ${e.ValidationError}(${t})`):(r.assign(V._`${n}.errors`,t),r.return(!1))}t.extendErrors=t.resetErrorsCount=t.reportExtraError=t.reportError=t.keyword$DataError=t.keywordError=void 0,t.keywordError={message:({keyword:e})=>V.str`should pass "${e}" keyword validation`},t.keyword$DataError={message:({keyword:e,schemaType:t})=>t?V.str`"${e}" keyword must be ${t} ($data)`:V.str`"${e}" keyword is invalid ($data)`},t.reportError=function(e,o=t.keywordError,i){const{it:a}=e,{gen:c,compositeRule:u,allErrors:l}=a,d=s(e,o);(null!=i?i:u||l)?r(c,d):n(a,V._`[${d}]`)},t.reportExtraError=function(e,o=t.keywordError){const{it:i}=e,{gen:a,compositeRule:c,allErrors:u}=i;r(a,s(e,o)),c||u||n(i,U.default.vErrors)},t.resetErrorsCount=function(e,t){e.assign(U.default.errors,t),e.if(V._`${U.default.vErrors} !== null`,(()=>e.if(t,(()=>e.assign(V._`${U.default.vErrors}.length`,t)),(()=>e.assign(U.default.vErrors,null)))))},t.extendErrors=function({gen:e,keyword:t,schemaValue:r,data:n,errsCount:o,it:s}){if(void 0===o)throw new Error("ajv implementation error");const i=e.name("err");e.forRange("i",o,U.default.errors,(o=>{e.const(i,V._`${U.default.vErrors}[${o}]`),e.if(V._`${i}.dataPath === undefined`,(()=>e.assign(V._`${i}.dataPath`,V.strConcat(U.default.dataPath,s.errorPath)))),e.assign(V._`${i}.schemaPath`,V.str`${s.errSchemaPath}/${t}`),s.opts.verbose&&(e.assign(V._`${i}.schema`,r),e.assign(V._`${i}.data`,n))}))};const o={keyword:new V.Name("keyword"),schemaPath:new V.Name("schemaPath"),params:new V.Name("params"),propertyName:new V.Name("propertyName"),message:new V.Name("message"),schema:new V.Name("schema"),parentSchema:new V.Name("parentSchema"),instancePath:new V.Name("instancePath")};function s(e,t){const{createErrors:r,opts:n}=e.it;return!1===r?V._`{}`:(n.jtd&&!n.ajvErrors?i:a)(e,t)}function i(e,{message:t}){const{gen:r,keyword:n,it:s}=e,{errorPath:i,errSchemaPath:a,opts:c}=s,u=[[o.instancePath,V.strConcat(U.default.dataPath,i)],[o.schemaPath,V.str`${a}/${n}`]];return c.messages&&u.push([o.message,"function"==typeof t?t(e):t]),r.object(...u)}function a(e,t){const{gen:r,keyword:n,data:s,schemaValue:i,it:a}=e,{topSchemaRef:c,schemaPath:u,errorPath:l,errSchemaPath:d,propertyName:f,opts:h}=a,{params:p,message:m}=t,y=[[o.keyword,n],[U.default.dataPath,V.strConcat(U.default.dataPath,l)],[o.schemaPath,V.str`${d}/${n}`],[o.params,"function"==typeof p?p(e):p||V._`{}`]];return f&&y.push([o.propertyName,f]),h.messages&&y.push([o.message,"function"==typeof m?m(e):m]),h.verbose&&y.push([o.schema,i],[o.parentSchema,V._`${c}${u}`],[U.default.data,s]),r.object(...y)}})),z=E((function(e,t){t.boolOrEmptySchema=t.topBoolOrEmptySchema=void 0;const r={message:"boolean schema is false"};function n(e,t){const{gen:n,data:o}=e,s={gen:n,keyword:"false schema",data:o,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};F.reportError(s,r,t)}t.topBoolOrEmptySchema=function(e){const{gen:t,schema:r,validateName:o}=e;!1===r?n(e,!1):"object"==typeof r&&!0===r.$async?t.return(U.default.data):(t.assign(V._`${o}.errors`,null),t.return(!0))},t.boolOrEmptySchema=function(e,t){const{gen:r,schema:o}=e;!1===o?(r.var(t,!1),n(e)):r.var(t,!0)}})),M=E((function(e,t){function r(e,t,r){const{gen:n,compositeRule:o,data:s,opts:i}=e;if(void 0===r)return;const a=V._`${s}${V.getProperty(t)}`;if(o)return void Q.checkStrictMode(e,`default is ignored for: ${a}`);let c=V._`${a} === undefined`;"empty"===i.useDefaults&&(c=V._`${c} || ${a} === null || ${a} === ""`),n.if(c,V._`${a} = ${V.stringify(r)}`)}t.assignDefaults=void 0,t.assignDefaults=function(e,t){const{properties:n,items:o}=e.schema;if("object"===t&&n)for(const t in n)r(e,t,n[t].default);else"array"===t&&Array.isArray(o)&&o.forEach(((t,n)=>r(e,n,t.default)))}})),q=E((function(e,t){var r;t.applySubschema=t.Type=void 0,function(e){e[e.Num=0]="Num",e[e.Str=1]="Str"}(r=t.Type||(t.Type={})),t.applySubschema=function(e,t,n){const o=function(e,{keyword:t,schemaProp:r,schema:n,schemaPath:o,errSchemaPath:s,topSchemaRef:i}){if(void 0!==t&&void 0!==n)throw new Error('both "keyword" and "schema" passed, only one allowed');if(void 0!==t){const n=e.schema[t];return void 0===r?{schema:n,schemaPath:V._`${e.schemaPath}${V.getProperty(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:n[r],schemaPath:V._`${e.schemaPath}${V.getProperty(t)}${V.getProperty(r)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${Z.escapeFragment(r)}`}}if(void 0!==n){if(void 0===o||void 0===s||void 0===i)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:o,topSchemaRef:i,errSchemaPath:s}}throw new Error('either "keyword" or "schema" must be passed')}(e,t);!function(e,t,{dataProp:n,dataPropType:o,data:s,dataTypes:i,propertyName:a}){if(void 0!==s&&void 0!==n)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:c}=t;if(void 0!==n){const{errorPath:s,dataPathArr:i,opts:a}=t;u(c.let("data",V._`${t.data}${V.getProperty(n)}`,!0)),e.errorPath=V.str`${s}${function(e,t,n){if(e instanceof V.Name){const o=t===r.Num;return n?o?V._`"[" + ${e} + "]"`:V._`"['" + ${e} + "']"`:o?V._`"/" + ${e}`:V._`"/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return n?V.getProperty(e).toString():"/"+Z.escapeJsonPointer(e)}(n,o,a.jsPropertySyntax)}`,e.parentDataProperty=V._`${n}`,e.dataPathArr=[...i,e.parentDataProperty]}if(void 0!==s){u(s instanceof V.Name?s:c.let("data",s,!0)),void 0!==a&&(e.propertyName=a)}i&&(e.dataTypes=i);function u(r){e.data=r,e.dataLevel=t.dataLevel+1,e.dataTypes=[],e.parentData=t.data,e.dataNames=[...t.dataNames,r]}}(o,e,t),function(e,{jtdDiscriminator:t,jtdMetadata:r,compositeRule:n,createErrors:o,allErrors:s}){void 0!==n&&(e.compositeRule=n);void 0!==o&&(e.createErrors=o);void 0!==s&&(e.allErrors=s);e.jtdDiscriminator=t,e.jtdMetadata=r}(o,t);const s={...e,...o,items:void 0,props:void 0};return Q.subschemaCode(s,n),s}})),L=E((function(e,t){function r(e,t){return V._`Object.prototype.hasOwnProperty.call(${e}, ${t})`}function n(e,t,n){const o=V._`${e}${V.getProperty(t)} === undefined`;return n?V._`${o} || !${r(e,t)}`:o}function o(e){return e?Object.keys(e).filter((e=>"__proto__"!==e)):[]}t.validateUnion=t.validateArray=t.usePattern=t.callValidateCode=t.schemaProperties=t.allSchemaProperties=t.noPropertyInData=t.propertyInData=t.reportMissingProp=t.checkMissingProp=t.checkReportMissingProp=void 0,t.checkReportMissingProp=function(e,t){const{gen:r,data:o,it:s}=e;r.if(n(o,t,s.opts.ownProperties),(()=>{e.setParams({missingProperty:V._`${t}`},!0),e.error()}))},t.checkMissingProp=function({data:e,it:{opts:t}},r,o){return V.or(...r.map((r=>V._`${n(e,r,t.ownProperties)} && (${o} = ${r})`)))},t.reportMissingProp=function(e,t){e.setParams({missingProperty:t},!0),e.error()},t.propertyInData=function(e,t,n){const o=V._`${e}${V.getProperty(t)} !== undefined`;return n?V._`${o} && ${r(e,t)}`:o},t.noPropertyInData=n,t.allSchemaProperties=o,t.schemaProperties=function(e,t){return o(t).filter((r=>!Z.alwaysValidSchema(e,t[r])))},t.callValidateCode=function({schemaCode:e,data:t,it:{gen:r,topSchemaRef:n,schemaPath:o,errorPath:s},it:i},a,c,u){const l=u?V._`${e}, ${t}, ${n}${o}`:t,d=[[U.default.dataPath,V.strConcat(U.default.dataPath,s)],[U.default.parentData,i.parentData],[U.default.parentDataProperty,i.parentDataProperty],[U.default.rootData,U.default.rootData]];i.opts.dynamicRef&&d.push([U.default.dynamicAnchors,U.default.dynamicAnchors]);const f=V._`${l}, ${r.object(...d)}`;return c!==V.nil?V._`${a}.call(${c}, ${f})`:V._`${a}(${f})`},t.usePattern=function(e,t){return e.scopeValue("pattern",{key:t,ref:new RegExp(t,"u"),code:V._`new RegExp(${t}, "u")`})},t.validateArray=function(e){const{gen:t,data:r,keyword:n,it:o}=e,s=t.name("valid");if(o.allErrors){const e=t.let("valid",!0);return i((()=>t.assign(e,!1))),e}return t.var(s,!0),i((()=>t.break())),s;function i(o){const i=t.const("len",V._`${r}.length`);t.forRange("i",0,i,(r=>{e.subschema({keyword:n,dataProp:r,dataPropType:q.Type.Num},s),t.if(V.not(s),o)}))}},t.validateUnion=function(e){const{gen:t,schema:r,keyword:n,it:o}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some((e=>Z.alwaysValidSchema(o,e)))&&!o.opts.unevaluated)return;const s=t.let("valid",!1),i=t.name("_valid");t.block((()=>r.forEach(((r,o)=>{const a=e.subschema({keyword:n,schemaProp:o,compositeRule:!0},i);t.assign(s,V._`${s} || ${i}`);e.mergeValidEvaluated(a,i)||t.if(V.not(s))})))),e.result(s,(()=>e.reset()),(()=>e.error(!0)))}})),K=E((function(e,t){function r(e,t){var r;const{gen:s,keyword:i,schema:a,parentSchema:c,$data:u,it:l}=e;!function({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}(l,t);const d=!u&&t.compile?t.compile.call(l.self,a,c,l):t.validate,f=o(s,i,d),h=s.let("valid");function p(r=(t.async?V._`await `:V.nil)){const n=l.opts.passContext?U.default.this:U.default.self,o=!("compile"in t&&!u||!1===t.schema);s.assign(h,V._`${r}${L.callValidateCode(e,f,n,o)}`,t.modifying)}function m(e){var r;s.if(V.not(null!==(r=t.valid)&&void 0!==r?r:h),e)}e.block$data(h,(function(){if(!1===t.errors)p(),t.modifying&&n(e),m((()=>e.error()));else{const r=t.async?function(){const e=s.let("ruleErrs",null);return s.try((()=>p(V._`await `)),(t=>s.assign(h,!1).if(V._`${t} instanceof ${l.ValidationError}`,(()=>s.assign(e,V._`${t}.errors`)),(()=>s.throw(t))))),e}():function(){const e=V._`${f}.errors`;return s.assign(e,null),p(V.nil),e}();t.modifying&&n(e),m((()=>function(e,t){const{gen:r}=e;r.if(V._`Array.isArray(${t})`,(()=>{r.assign(U.default.vErrors,V._`${U.default.vErrors} === null ? ${t} : ${U.default.vErrors}.concat(${t})`).assign(U.default.errors,V._`${U.default.vErrors}.length`),F.extendErrors(e)}),(()=>e.error()))}(e,r)))}})),e.ok(null!==(r=t.valid)&&void 0!==r?r:h)}function n(e){const{gen:t,data:r,it:n}=e;t.if(n.parentData,(()=>t.assign(r,V._`${n.parentData}[${n.parentDataProperty}]`)))}function o(e,t,r){if(void 0===r)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword","function"==typeof r?{ref:r}:{ref:r,code:V.stringify(r)})}t.keywordCode=void 0,t.keywordCode=function(e,t,n,s){const i=new X.default(e,n,t);"code"in n?n.code(i,s):i.$data&&n.validate?r(i,n):"macro"in n?function(e,t){const{gen:r,keyword:n,schema:s,parentSchema:i,it:a}=e,c=t.macro.call(a.self,s,i,a),u=o(r,n,c);!1!==a.opts.validateSchema&&a.self.validateSchema(c,!0);const l=r.name("valid");e.subschema({schema:c,schemaPath:V.nil,errSchemaPath:`${a.errSchemaPath}/${n}`,topSchemaRef:u,compositeRule:!0},l),e.pass(l,(()=>e.error(!0)))}(i,n):(n.compile||n.validate)&&r(i,n)}})),J=E((function(e,t){function r(e,t){const{gen:r,schema:n,opts:{useDefaults:o}}=e;o&&M.assignDefaults(e,t.type),r.block((()=>{for(const r of t.rules)R.shouldUseRule(n,r)&&K.keywordCode(e,r.keyword,r.definition,t.type)}))}function n(e,t){return e.includes(t)||"number"===t&&e.includes("integer")}function o(e,t){return e.includes(t)||"integer"===t&&e.includes("number")}function s(e,t){t+=` at "${e.schemaEnv.baseId+e.errSchemaPath}" (strictTypes)`,Q.checkStrictMode(e,t,e.opts.strictTypes)}t.schemaKeywords=void 0,t.schemaKeywords=function(e,t,i,a){const{gen:c,schema:u,data:l,allErrors:d,opts:f,self:h}=e,{RULES:p}=h;function m(n){R.shouldUseGroup(u,n)&&(n.type?(c.if(Y.checkDataType(n.type,l,f.strict)),r(e,n),1===t.length&&t[0]===n.type&&i&&(c.else(),Y.reportTypeError(e)),c.endIf()):r(e,n),d||c.if(V._`${U.default.errors} === ${a||0}`))}!u.$ref||!f.ignoreKeywordsWithRef&&Z.schemaHasRulesButRef(u,p)?(f.jtd||function(e,t){if(e.schemaEnv.meta||!e.opts.strictTypes)return;(function(e,t){if(!t.length)return;if(!e.dataTypes.length)return void(e.dataTypes=t);t.forEach((t=>{o(e.dataTypes,t)||s(e,`type "${t}" not allowed by context "${e.dataTypes.join(",")}"`)})),e.dataTypes=e.dataTypes.filter((e=>o(t,e)))})(e,t),e.opts.allowUnionTypes||function(e,t){t.length>1&&(2!==t.length||!t.includes("null"))&&s(e,"use allowUnionTypes to allow union type keyword")}(e,t);!function(e,t){const r=e.self.RULES.all;for(const o in r){const i=r[o];if("object"==typeof i&&R.shouldUseRule(e.schema,i)){const{type:r}=i.definition;r.length&&!r.some((e=>n(t,e)))&&s(e,`missing type "${r.join(",")}" for keyword "${o}"`)}}}(e,e.dataTypes)}(e,t),c.block((()=>{for(const e of p.rules)m(e);m(p.post)}))):c.block((()=>K.keywordCode(e,"$ref",p.all.$ref.definition)))}})),H=function e(t,r){if(t===r)return!0;if(t&&r&&"object"==typeof t&&"object"==typeof r){if(t.constructor!==r.constructor)return!1;var n,o,s;if(Array.isArray(t)){if((n=t.length)!=r.length)return!1;for(o=n;0!=o--;)if(!e(t[o],r[o]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if((n=(s=Object.keys(t)).length)!==Object.keys(r).length)return!1;for(o=n;0!=o--;)if(!Object.prototype.hasOwnProperty.call(r,s[o]))return!1;for(o=n;0!=o--;){var i=s[o];if(!e(t[i],r[i]))return!1}return!0}return t!=t&&r!=r},G=E((function(e){var t=e.exports=function(e,t,n){"function"==typeof t&&(n=t,t={}),r(t,"function"==typeof(n=t.cb||n)?n:n.pre||function(){},n.post||function(){},e,"",e)};function r(e,n,o,s,i,a,c,u,l,d){if(s&&"object"==typeof s&&!Array.isArray(s)){for(var f in n(s,i,a,c,u,l,d),s){var h=s[f];if(Array.isArray(h)){if(f in t.arrayKeywords)for(var p=0;p<h.length;p++)r(e,n,o,h[p],i+"/"+f+"/"+p,a,i,f,s,p)}else if(f in t.propsKeywords){if(h&&"object"==typeof h)for(var m in h)r(e,n,o,h[m],i+"/"+f+"/"+m.replace(/~/g,"~0").replace(/\//g,"~1"),a,i,f,s,m)}else(f in t.keywords||e.allKeys&&!(f in t.skipKeywords))&&r(e,n,o,h,i+"/"+f,a,i,f,s)}o(s,i,a,c,u,l,d)}}t.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},t.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},t.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},t.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}})),B=E((function(e,t){!function(e){function t(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];if(t.length>1){t[0]=t[0].slice(0,-1);for(var n=t.length-1,o=1;o<n;++o)t[o]=t[o].slice(1,-1);return t[n]=t[n].slice(1),t.join("")}return t[0]}function r(e){return"(?:"+e+")"}function n(e){return void 0===e?"undefined":null===e?"null":Object.prototype.toString.call(e).split(" ").pop().split("]").shift().toLowerCase()}function o(e){return e.toUpperCase()}function s(e){return null!=e?e instanceof Array?e:"number"!=typeof e.length||e.split||e.setInterval||e.call?[e]:Array.prototype.slice.call(e):[]}function i(e,t){var r=e;if(t)for(var n in t)r[n]=t[n];return r}function a(e){var n="[A-Za-z]",o="[0-9]",s=t(o,"[A-Fa-f]"),i=r(r("%[EFef]"+s+"%"+s+s+"%"+s+s)+"|"+r("%[89A-Fa-f]"+s+"%"+s+s)+"|"+r("%"+s+s)),a="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",c=t("[\\:\\/\\?\\#\\[\\]\\@]",a),u=e?"[\\uE000-\\uF8FF]":"[]",l=t(n,o,"[\\-\\.\\_\\~]",e?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]");r(n+t(n,o,"[\\+\\-\\.]")+"*"),r(r(i+"|"+t(l,a,"[\\:]"))+"*");var d=r(r("25[0-5]")+"|"+r("2[0-4]"+o)+"|"+r("1"+o+o)+"|"+r("0?[1-9]"+o)+"|0?0?"+o),f=r(d+"\\."+d+"\\."+d+"\\."+d),h=r(s+"{1,4}"),p=r(r(h+"\\:"+h)+"|"+f),m=r(r(h+"\\:")+"{6}"+p),y=r("\\:\\:"+r(h+"\\:")+"{5}"+p),v=r(r(h)+"?\\:\\:"+r(h+"\\:")+"{4}"+p),g=r(r(r(h+"\\:")+"{0,1}"+h)+"?\\:\\:"+r(h+"\\:")+"{3}"+p),$=r(r(r(h+"\\:")+"{0,2}"+h)+"?\\:\\:"+r(h+"\\:")+"{2}"+p),w=r(r(r(h+"\\:")+"{0,3}"+h)+"?\\:\\:"+h+"\\:"+p),b=r(r(r(h+"\\:")+"{0,4}"+h)+"?\\:\\:"+p),_=r(r(r(h+"\\:")+"{0,5}"+h)+"?\\:\\:"+h),S=r(r(r(h+"\\:")+"{0,6}"+h)+"?\\:\\:"),E=r([m,y,v,g,$,w,b,_,S].join("|")),x=r(r(l+"|"+i)+"+");r("[vV]"+s+"+\\."+t(l,a,"[\\:]")+"+"),r(r(i+"|"+t(l,a))+"*");var P=r(i+"|"+t(l,a,"[\\:\\@]"));return r(r(i+"|"+t(l,a,"[\\@]"))+"+"),r(r(P+"|"+t("[\\/\\?]",u))+"*"),{NOT_SCHEME:new RegExp(t("[^]",n,o,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(t("[^\\%\\:]",l,a),"g"),NOT_HOST:new RegExp(t("[^\\%\\[\\]\\:]",l,a),"g"),NOT_PATH:new RegExp(t("[^\\%\\/\\:\\@]",l,a),"g"),NOT_PATH_NOSCHEME:new RegExp(t("[^\\%\\/\\@]",l,a),"g"),NOT_QUERY:new RegExp(t("[^\\%]",l,a,"[\\:\\@\\/\\?]",u),"g"),NOT_FRAGMENT:new RegExp(t("[^\\%]",l,a,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(t("[^]",l,a),"g"),UNRESERVED:new RegExp(l,"g"),OTHER_CHARS:new RegExp(t("[^\\%]",l,c),"g"),PCT_ENCODED:new RegExp(i,"g"),IPV4ADDRESS:new RegExp("^("+f+")$"),IPV6ADDRESS:new RegExp("^\\[?("+E+")"+r(r("\\%25|\\%(?!"+s+"{2})")+"("+x+")")+"?\\]?$")}}var c=a(!1),u=a(!0),l=function(){function e(e,t){var r=[],n=!0,o=!1,s=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,s=e}finally{try{!n&&a.return&&a.return()}finally{if(o)throw s}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),d=function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)},f=2147483647,h=36,p=1,m=26,y=38,v=700,g=72,$=128,w="-",b=/^xn--/,_=/[^\0-\x7E]/,S=/[\x2E\u3002\uFF0E\uFF61]/g,E={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},x=h-p,P=Math.floor,j=String.fromCharCode;function N(e){throw new RangeError(E[e])}function k(e,t){for(var r=[],n=e.length;n--;)r[n]=t(e[n]);return r}function C(e,t){var r=e.split("@"),n="";return r.length>1&&(n=r[0]+"@",e=r[1]),n+k((e=e.replace(S,".")).split("."),t).join(".")}function I(e){for(var t=[],r=0,n=e.length;r<n;){var o=e.charCodeAt(r++);if(o>=55296&&o<=56319&&r<n){var s=e.charCodeAt(r++);56320==(64512&s)?t.push(((1023&o)<<10)+(1023&s)+65536):(t.push(o),r--)}else t.push(o)}return t}var O=function(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:h},A=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},R=function(e,t,r){var n=0;for(e=r?P(e/v):e>>1,e+=P(e/t);e>x*m>>1;n+=h)e=P(e/x);return P(n+(x+1)*e/(e+y))},T=function(e){var t=[],r=e.length,n=0,o=$,s=g,i=e.lastIndexOf(w);i<0&&(i=0);for(var a=0;a<i;++a)e.charCodeAt(a)>=128&&N("not-basic"),t.push(e.charCodeAt(a));for(var c=i>0?i+1:0;c<r;){for(var u=n,l=1,d=h;;d+=h){c>=r&&N("invalid-input");var y=O(e.charCodeAt(c++));(y>=h||y>P((f-n)/l))&&N("overflow"),n+=y*l;var v=d<=s?p:d>=s+m?m:d-s;if(y<v)break;var b=h-v;l>P(f/b)&&N("overflow"),l*=b}var _=t.length+1;s=R(n-u,_,0==u),P(n/_)>f-o&&N("overflow"),o+=P(n/_),n%=_,t.splice(n++,0,o)}return String.fromCodePoint.apply(String,t)},D=function(e){var t=[],r=(e=I(e)).length,n=$,o=0,s=g,i=!0,a=!1,c=void 0;try{for(var u,l=e[Symbol.iterator]();!(i=(u=l.next()).done);i=!0){var d=u.value;d<128&&t.push(j(d))}}catch(e){a=!0,c=e}finally{try{!i&&l.return&&l.return()}finally{if(a)throw c}}var y=t.length,v=y;for(y&&t.push(w);v<r;){var b=f,_=!0,S=!1,E=void 0;try{for(var x,k=e[Symbol.iterator]();!(_=(x=k.next()).done);_=!0){var C=x.value;C>=n&&C<b&&(b=C)}}catch(e){S=!0,E=e}finally{try{!_&&k.return&&k.return()}finally{if(S)throw E}}var O=v+1;b-n>P((f-o)/O)&&N("overflow"),o+=(b-n)*O,n=b;var T=!0,D=!1,V=void 0;try{for(var U,F=e[Symbol.iterator]();!(T=(U=F.next()).done);T=!0){var z=U.value;if(z<n&&++o>f&&N("overflow"),z==n){for(var M=o,q=h;;q+=h){var L=q<=s?p:q>=s+m?m:q-s;if(M<L)break;var K=M-L,J=h-L;t.push(j(A(L+K%J,0))),M=P(K/J)}t.push(j(A(M,0))),s=R(o,O,v==y),o=0,++v}}}catch(e){D=!0,V=e}finally{try{!T&&F.return&&F.return()}finally{if(D)throw V}}++o,++n}return t.join("")},V=function(e){return C(e,(function(e){return b.test(e)?T(e.slice(4).toLowerCase()):e}))},U=function(e){return C(e,(function(e){return _.test(e)?"xn--"+D(e):e}))},F={version:"2.1.0",ucs2:{decode:I,encode:function(e){return String.fromCodePoint.apply(String,d(e))}},decode:T,encode:D,toASCII:U,toUnicode:V},z={};function M(e){var t=e.charCodeAt(0);return t<16?"%0"+t.toString(16).toUpperCase():t<128?"%"+t.toString(16).toUpperCase():t<2048?"%"+(t>>6|192).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase():"%"+(t>>12|224).toString(16).toUpperCase()+"%"+(t>>6&63|128).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase()}function q(e){for(var t="",r=0,n=e.length;r<n;){var o=parseInt(e.substr(r+1,2),16);if(o<128)t+=String.fromCharCode(o),r+=3;else if(o>=194&&o<224){if(n-r>=6){var s=parseInt(e.substr(r+4,2),16);t+=String.fromCharCode((31&o)<<6|63&s)}else t+=e.substr(r,6);r+=6}else if(o>=224){if(n-r>=9){var i=parseInt(e.substr(r+4,2),16),a=parseInt(e.substr(r+7,2),16);t+=String.fromCharCode((15&o)<<12|(63&i)<<6|63&a)}else t+=e.substr(r,9);r+=9}else t+=e.substr(r,3),r+=3}return t}function L(e,t){function r(e){var r=q(e);return r.match(t.UNRESERVED)?r:e}return e.scheme&&(e.scheme=String(e.scheme).replace(t.PCT_ENCODED,r).toLowerCase().replace(t.NOT_SCHEME,"")),void 0!==e.userinfo&&(e.userinfo=String(e.userinfo).replace(t.PCT_ENCODED,r).replace(t.NOT_USERINFO,M).replace(t.PCT_ENCODED,o)),void 0!==e.host&&(e.host=String(e.host).replace(t.PCT_ENCODED,r).toLowerCase().replace(t.NOT_HOST,M).replace(t.PCT_ENCODED,o)),void 0!==e.path&&(e.path=String(e.path).replace(t.PCT_ENCODED,r).replace(e.scheme?t.NOT_PATH:t.NOT_PATH_NOSCHEME,M).replace(t.PCT_ENCODED,o)),void 0!==e.query&&(e.query=String(e.query).replace(t.PCT_ENCODED,r).replace(t.NOT_QUERY,M).replace(t.PCT_ENCODED,o)),void 0!==e.fragment&&(e.fragment=String(e.fragment).replace(t.PCT_ENCODED,r).replace(t.NOT_FRAGMENT,M).replace(t.PCT_ENCODED,o)),e}function K(e){return e.replace(/^0*(.*)/,"$1")||"0"}function J(e,t){var r=e.match(t.IPV4ADDRESS)||[],n=l(r,2)[1];return n?n.split(".").map(K).join("."):e}function H(e,t){var r=e.match(t.IPV6ADDRESS)||[],n=l(r,3),o=n[1],s=n[2];if(o){for(var i=o.toLowerCase().split("::").reverse(),a=l(i,2),c=a[0],u=a[1],d=u?u.split(":").map(K):[],f=c.split(":").map(K),h=t.IPV4ADDRESS.test(f[f.length-1]),p=h?7:8,m=f.length-p,y=Array(p),v=0;v<p;++v)y[v]=d[v]||f[m+v]||"";h&&(y[p-1]=J(y[p-1],t));var g=y.reduce((function(e,t,r){if(!t||"0"===t){var n=e[e.length-1];n&&n.index+n.length===r?n.length++:e.push({index:r,length:1})}return e}),[]).sort((function(e,t){return t.length-e.length}))[0],$=void 0;if(g&&g.length>1){var w=y.slice(0,g.index),b=y.slice(g.index+g.length);$=w.join(":")+"::"+b.join(":")}else $=y.join(":");return s&&($+="%"+s),$}return e}var G=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,B=void 0==="".match(/(){0}/)[1];function W(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={},n=!1!==t.iri?u:c;"suffix"===t.reference&&(e=(t.scheme?t.scheme+":":"")+"//"+e);var o=e.match(G);if(o){B?(r.scheme=o[1],r.userinfo=o[3],r.host=o[4],r.port=parseInt(o[5],10),r.path=o[6]||"",r.query=o[7],r.fragment=o[8],isNaN(r.port)&&(r.port=o[5])):(r.scheme=o[1]||void 0,r.userinfo=-1!==e.indexOf("@")?o[3]:void 0,r.host=-1!==e.indexOf("//")?o[4]:void 0,r.port=parseInt(o[5],10),r.path=o[6]||"",r.query=-1!==e.indexOf("?")?o[7]:void 0,r.fragment=-1!==e.indexOf("#")?o[8]:void 0,isNaN(r.port)&&(r.port=e.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?o[4]:void 0)),r.host&&(r.host=H(J(r.host,n),n)),void 0!==r.scheme||void 0!==r.userinfo||void 0!==r.host||void 0!==r.port||r.path||void 0!==r.query?void 0===r.scheme?r.reference="relative":void 0===r.fragment?r.reference="absolute":r.reference="uri":r.reference="same-document",t.reference&&"suffix"!==t.reference&&t.reference!==r.reference&&(r.error=r.error||"URI is not a "+t.reference+" reference.");var s=z[(t.scheme||r.scheme||"").toLowerCase()];if(t.unicodeSupport||s&&s.unicodeSupport)L(r,n);else{if(r.host&&(t.domainHost||s&&s.domainHost))try{r.host=F.toASCII(r.host.replace(n.PCT_ENCODED,q).toLowerCase())}catch(e){r.error=r.error||"Host's domain name can not be converted to ASCII via punycode: "+e}L(r,c)}s&&s.parse&&s.parse(r,t)}else r.error=r.error||"URI can not be parsed.";return r}function Q(e,t){var r=!1!==t.iri?u:c,n=[];return void 0!==e.userinfo&&(n.push(e.userinfo),n.push("@")),void 0!==e.host&&n.push(H(J(String(e.host),r),r).replace(r.IPV6ADDRESS,(function(e,t,r){return"["+t+(r?"%25"+r:"")+"]"}))),"number"!=typeof e.port&&"string"!=typeof e.port||(n.push(":"),n.push(String(e.port))),n.length?n.join(""):void 0}var Z=/^\.\.?\//,Y=/^\/\.(\/|$)/,X=/^\/\.\.(\/|$)/,ee=/^\/?(?:.|\n)*?(?=\/|$)/;function te(e){for(var t=[];e.length;)if(e.match(Z))e=e.replace(Z,"");else if(e.match(Y))e=e.replace(Y,"/");else if(e.match(X))e=e.replace(X,"/"),t.pop();else if("."===e||".."===e)e="";else{var r=e.match(ee);if(!r)throw new Error("Unexpected dot segment condition");var n=r[0];e=e.slice(n.length),t.push(n)}return t.join("")}function re(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.iri?u:c,n=[],o=z[(t.scheme||e.scheme||"").toLowerCase()];if(o&&o.serialize&&o.serialize(e,t),e.host)if(r.IPV6ADDRESS.test(e.host));else if(t.domainHost||o&&o.domainHost)try{e.host=t.iri?F.toUnicode(e.host):F.toASCII(e.host.replace(r.PCT_ENCODED,q).toLowerCase())}catch(r){e.error=e.error||"Host's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+r}L(e,r),"suffix"!==t.reference&&e.scheme&&(n.push(e.scheme),n.push(":"));var s=Q(e,t);if(void 0!==s&&("suffix"!==t.reference&&n.push("//"),n.push(s),e.path&&"/"!==e.path.charAt(0)&&n.push("/")),void 0!==e.path){var i=e.path;t.absolutePath||o&&o.absolutePath||(i=te(i)),void 0===s&&(i=i.replace(/^\/\//,"/%2F")),n.push(i)}return void 0!==e.query&&(n.push("?"),n.push(e.query)),void 0!==e.fragment&&(n.push("#"),n.push(e.fragment)),n.join("")}function ne(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n={};return arguments[3]||(e=W(re(e,r),r),t=W(re(t,r),r)),!(r=r||{}).tolerant&&t.scheme?(n.scheme=t.scheme,n.userinfo=t.userinfo,n.host=t.host,n.port=t.port,n.path=te(t.path||""),n.query=t.query):(void 0!==t.userinfo||void 0!==t.host||void 0!==t.port?(n.userinfo=t.userinfo,n.host=t.host,n.port=t.port,n.path=te(t.path||""),n.query=t.query):(t.path?("/"===t.path.charAt(0)?n.path=te(t.path):(void 0===e.userinfo&&void 0===e.host&&void 0===e.port||e.path?e.path?n.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:n.path=t.path:n.path="/"+t.path,n.path=te(n.path)),n.query=t.query):(n.path=e.path,void 0!==t.query?n.query=t.query:n.query=e.query),n.userinfo=e.userinfo,n.host=e.host,n.port=e.port),n.scheme=e.scheme),n.fragment=t.fragment,n}function oe(e,t,r){var n=i({scheme:"null"},r);return re(ne(W(e,n),W(t,n),n,!0),n)}function se(e,t){return"string"==typeof e?e=re(W(e,t),t):"object"===n(e)&&(e=W(re(e,t),t)),e}function ie(e,t,r){return"string"==typeof e?e=re(W(e,r),r):"object"===n(e)&&(e=re(e,r)),"string"==typeof t?t=re(W(t,r),r):"object"===n(t)&&(t=re(t,r)),e===t}function ae(e,t){return e&&e.toString().replace(t&&t.iri?u.ESCAPE:c.ESCAPE,M)}function ce(e,t){return e&&e.toString().replace(t&&t.iri?u.PCT_ENCODED:c.PCT_ENCODED,q)}var ue={scheme:"http",domainHost:!0,parse:function(e,t){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e},serialize:function(e,t){var r="https"===String(e.scheme).toLowerCase();return e.port!==(r?443:80)&&""!==e.port||(e.port=void 0),e.path||(e.path="/"),e}},le={scheme:"https",domainHost:ue.domainHost,parse:ue.parse,serialize:ue.serialize};function de(e){return"boolean"==typeof e.secure?e.secure:"wss"===String(e.scheme).toLowerCase()}var fe={scheme:"ws",domainHost:!0,parse:function(e,t){var r=e;return r.secure=de(r),r.resourceName=(r.path||"/")+(r.query?"?"+r.query:""),r.path=void 0,r.query=void 0,r},serialize:function(e,t){if(e.port!==(de(e)?443:80)&&""!==e.port||(e.port=void 0),"boolean"==typeof e.secure&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){var r=e.resourceName.split("?"),n=l(r,2),o=n[0],s=n[1];e.path=o&&"/"!==o?o:void 0,e.query=s,e.resourceName=void 0}return e.fragment=void 0,e}},he={scheme:"wss",domainHost:fe.domainHost,parse:fe.parse,serialize:fe.serialize},pe={},me="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",ye="[0-9A-Fa-f]",ve=r(r("%[EFef]"+ye+"%"+ye+ye+"%"+ye+ye)+"|"+r("%[89A-Fa-f]"+ye+"%"+ye+ye)+"|"+r("%"+ye+ye)),ge="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",$e=t("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),we="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",be=new RegExp(me,"g"),_e=new RegExp(ve,"g"),Se=new RegExp(t("[^]",ge,"[\\.]",'[\\"]',$e),"g"),Ee=new RegExp(t("[^]",me,we),"g"),xe=Ee;function Pe(e){var t=q(e);return t.match(be)?t:e}var je={scheme:"mailto",parse:function(e,t){var r=e,n=r.to=r.path?r.path.split(","):[];if(r.path=void 0,r.query){for(var o=!1,s={},i=r.query.split("&"),a=0,c=i.length;a<c;++a){var u=i[a].split("=");switch(u[0]){case"to":for(var l=u[1].split(","),d=0,f=l.length;d<f;++d)n.push(l[d]);break;case"subject":r.subject=ce(u[1],t);break;case"body":r.body=ce(u[1],t);break;default:o=!0,s[ce(u[0],t)]=ce(u[1],t)}}o&&(r.headers=s)}r.query=void 0;for(var h=0,p=n.length;h<p;++h){var m=n[h].split("@");if(m[0]=ce(m[0]),t.unicodeSupport)m[1]=ce(m[1],t).toLowerCase();else try{m[1]=F.toASCII(ce(m[1],t).toLowerCase())}catch(e){r.error=r.error||"Email address's domain name can not be converted to ASCII via punycode: "+e}n[h]=m.join("@")}return r},serialize:function(e,t){var r=e,n=s(e.to);if(n){for(var i=0,a=n.length;i<a;++i){var c=String(n[i]),u=c.lastIndexOf("@"),l=c.slice(0,u).replace(_e,Pe).replace(_e,o).replace(Se,M),d=c.slice(u+1);try{d=t.iri?F.toUnicode(d):F.toASCII(ce(d,t).toLowerCase())}catch(e){r.error=r.error||"Email address's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+e}n[i]=l+"@"+d}r.path=n.join(",")}var f=e.headers=e.headers||{};e.subject&&(f.subject=e.subject),e.body&&(f.body=e.body);var h=[];for(var p in f)f[p]!==pe[p]&&h.push(p.replace(_e,Pe).replace(_e,o).replace(Ee,M)+"="+f[p].replace(_e,Pe).replace(_e,o).replace(xe,M));return h.length&&(r.query=h.join("&")),r}},Ne=/^([^\:]+)\:(.*)/,ke={scheme:"urn",parse:function(e,t){var r=e.path&&e.path.match(Ne),n=e;if(r){var o=t.scheme||n.scheme||"urn",s=r[1].toLowerCase(),i=r[2],a=o+":"+(t.nid||s),c=z[a];n.nid=s,n.nss=i,n.path=void 0,c&&(n=c.parse(n,t))}else n.error=n.error||"URN can not be parsed.";return n},serialize:function(e,t){var r=t.scheme||e.scheme||"urn",n=e.nid,o=r+":"+(t.nid||n),s=z[o];s&&(e=s.serialize(e,t));var i=e,a=e.nss;return i.path=(n||t.nid)+":"+a,i}},Ce=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Ie={scheme:"urn:uuid",parse:function(e,t){var r=e;return r.uuid=r.nss,r.nss=void 0,t.tolerant||r.uuid&&r.uuid.match(Ce)||(r.error=r.error||"UUID is not valid."),r},serialize:function(e,t){var r=e;return r.nss=(e.uuid||"").toLowerCase(),r}};z[ue.scheme]=ue,z[le.scheme]=le,z[fe.scheme]=fe,z[he.scheme]=he,z[je.scheme]=je,z[ke.scheme]=ke,z[Ie.scheme]=Ie,e.SCHEMES=z,e.pctEncChar=M,e.pctDecChars=q,e.parse=W,e.removeDotSegments=te,e.serialize=re,e.resolveComponents=ne,e.resolve=oe,e.normalize=se,e.equal=ie,e.escapeComponent=ae,e.unescapeComponent=ce,Object.defineProperty(e,"__esModule",{value:!0})}(t)})),W=E((function(e,t){t.getSchemaRefs=t.resolveUrl=t.normalizeId=t._getFullPath=t.getFullPath=t.inlineRef=void 0;const r=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);t.inlineRef=function(e,t=!0){return"boolean"==typeof e||(!0===t?!o(e):!!t&&s(e)<=t)};const n=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function o(e){for(const t in e){if(n.has(t))return!0;const r=e[t];if(Array.isArray(r)&&r.some(o))return!0;if("object"==typeof r&&o(r))return!0}return!1}function s(e){let t=0;for(const n in e){if("$ref"===n)return 1/0;if(t++,!r.has(n)&&("object"==typeof e[n]&&Z.eachItem(e[n],(e=>t+=s(e))),t===1/0))return 1/0}return t}function i(e="",t){!1!==t&&(e=u(e));return a(B.parse(e))}function a(e){return B.serialize(e).split("#")[0]+"#"}t.getFullPath=i,t._getFullPath=a;const c=/#\/?$/;function u(e){return e?e.replace(c,""):""}t.normalizeId=u,t.resolveUrl=function(e,t){return t=u(t),B.resolve(e,t)};const l=/^[a-z_][-a-z0-9._]*$/i;t.getSchemaRefs=function(e){if("boolean"==typeof e)return{};const t=u(e.$id),r={"":t},n=i(t,!1),o={},s=new Set;return G(e,{allKeys:!0},((e,t,i,d)=>{if(void 0===d)return;const f=n+t;let h=r[d];function p(t){if(t=u(h?B.resolve(h,t):t),s.has(t))throw c(t);s.add(t);let r=this.refs[t];return"string"==typeof r&&(r=this.refs[r]),"object"==typeof r?a(e,r.schema,t):t!==u(f)&&("#"===t[0]?(a(e,o[t],t),o[t]=e):this.refs[t]=f),t}function m(e){if("string"==typeof e){if(!l.test(e))throw new Error(`invalid anchor "${e}"`);p.call(this,`#${e}`)}}"string"==typeof e.$id&&(h=p.call(this,e.$id)),m.call(this,e.$anchor),m.call(this,e.$dynamicAnchor),r[t]=h})),o;function a(e,t,r){if(void 0!==t&&!H(e,t))throw c(r)}function c(e){return new Error(`reference "${e}" resolves to more than one schema`)}}})),Q=E((function(e,t){function r({gen:e,validateName:t,schema:r,schemaEnv:o,opts:s},i){s.code.es5?e.func(t,V._`${U.default.data}, ${U.default.valCxt}`,o.$async,(()=>{e.code(V._`"use strict"; ${n(r,s)}`),function(e,t){e.if(U.default.valCxt,(()=>{e.var(U.default.dataPath,V._`${U.default.valCxt}.${U.default.dataPath}`),e.var(U.default.parentData,V._`${U.default.valCxt}.${U.default.parentData}`),e.var(U.default.parentDataProperty,V._`${U.default.valCxt}.${U.default.parentDataProperty}`),e.var(U.default.rootData,V._`${U.default.valCxt}.${U.default.rootData}`),t.dynamicRef&&e.var(U.default.dynamicAnchors,V._`${U.default.valCxt}.${U.default.dynamicAnchors}`)}),(()=>{e.var(U.default.dataPath,V._`""`),e.var(U.default.parentData,V._`undefined`),e.var(U.default.parentDataProperty,V._`undefined`),e.var(U.default.rootData,U.default.data),t.dynamicRef&&e.var(U.default.dynamicAnchors,V._`{}`)}))}(e,s),e.code(i)})):e.func(t,V._`${U.default.data}, ${function(e){return V._`{${U.default.dataPath}="", ${U.default.parentData}, ${U.default.parentDataProperty}, ${U.default.rootData}=${U.default.data}${e.dynamicRef?V._`, ${U.default.dynamicAnchors}={}`:V.nil}}={}`}(s)}`,o.$async,(()=>e.code(n(r,s)).code(i)))}function n(e,t){return"object"==typeof e&&e.$id&&(t.code.source||t.code.process)?V._`/*# sourceURL=${e.$id} */`:V.nil}function o({schema:e,self:t}){if("boolean"==typeof e)return!e;for(const r in e)if(t.RULES.all[r])return!0;return!1}function s(e){return"boolean"!=typeof e.schema}function i(e){Z.checkUnknownRules(e),function(e){const{schema:t,errSchemaPath:r,opts:n,self:o}=e;t.$ref&&n.ignoreKeywordsWithRef&&Z.schemaHasRulesButRef(t,o.RULES)&&o.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}(e)}function a(e,t){if(e.opts.jtd)return J.schemaKeywords(e,[],!1,t);const r=Y.getSchemaTypes(e.schema),n=Y.coerceAndCheckDataType(e,r);J.schemaKeywords(e,r,!n,t)}function c({gen:e,schemaEnv:t,schema:r,errSchemaPath:n,opts:o}){const s=r.$comment;if(!0===o.$comment)e.code(V._`${U.default.self}.logger.log(${s})`);else if("function"==typeof o.$comment){const r=V.str`${n}/$comment`,o=e.scopeValue("root",{ref:t.root});e.code(V._`${U.default.self}.opts.$comment(${s}, ${r}, ${o}.schema)`)}}function u(e,t,r=e.opts.strict){if(r){if(t=`strict mode: ${t}`,!0===r)throw new Error(t);e.self.logger.warn(t)}}t.checkStrictMode=t.schemaCxtHasRules=t.subschemaCode=t.validateFunctionCode=void 0,t.validateFunctionCode=function(e){s(e)&&(i(e),o(e))?function(e){const{schema:t,opts:n,gen:o}=e;r(e,(()=>{n.$comment&&t.$comment&&c(e),function(e){const{schema:t,opts:r}=e;void 0!==t.default&&r.useDefaults&&r.strict&&u(e,"default is ignored in the schema root")}(e),o.let(U.default.vErrors,null),o.let(U.default.errors,0),n.unevaluated&&function(e){const{gen:t,validateName:r}=e;e.evaluated=t.const("evaluated",V._`${r}.evaluated`),t.if(V._`${e.evaluated}.dynamicProps`,(()=>t.assign(V._`${e.evaluated}.props`,V._`undefined`))),t.if(V._`${e.evaluated}.dynamicItems`,(()=>t.assign(V._`${e.evaluated}.items`,V._`undefined`)))}(e),a(e),function(e){const{gen:t,schemaEnv:r,validateName:n,ValidationError:o,opts:s}=e;r.$async?t.if(V._`${U.default.errors} === 0`,(()=>t.return(U.default.data)),(()=>t.throw(V._`new ${o}(${U.default.vErrors})`))):(t.assign(V._`${n}.errors`,U.default.vErrors),s.unevaluated&&function({gen:e,evaluated:t,props:r,items:n}){r instanceof V.Name&&e.assign(V._`${t}.props`,r);n instanceof V.Name&&e.assign(V._`${t}.items`,n)}(e),t.return(V._`${U.default.errors} === 0`))}(e)}))}(e):r(e,(()=>z.topBoolOrEmptySchema(e)))},t.subschemaCode=function(e,t){s(e)&&(i(e),o(e))?function(e,t){const{schema:r,gen:n,opts:o}=e;o.$comment&&r.$comment&&c(e);(function(e){e.schema.$id&&(e.baseId=W.resolveUrl(e.baseId,e.schema.$id))})(e),function(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}(e);const s=n.const("_errs",U.default.errors);a(e,s),n.var(t,V._`${s} === ${U.default.errors}`)}(e,t):z.boolOrEmptySchema(e,t)},t.schemaCxtHasRules=o,t.checkStrictMode=u})),Z=E((function(e,t){function r(e,t=e.schema){const{opts:r,self:n}=e;if(!r.strict)return;if("boolean"==typeof t)return;const o=n.RULES.keywords;for(const r in t)o[r]||Q.checkStrictMode(e,`unknown keyword: "${r}"`)}function n(e,t){if("boolean"==typeof e)return!e;for(const r in e)if(t[r])return!0;return!1}function o(e){return"number"==typeof e?`${e}`:e.replace(/~/g,"~0").replace(/\//g,"~1")}function s(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function i({mergeNames:e,mergeToName:t,mergeValues:r,resultToName:n}){return(o,s,i,a)=>{const c=void 0===i?s:i instanceof V.Name?(s instanceof V.Name?e(o,s,i):t(o,s,i),i):s instanceof V.Name?(t(o,i,s),s):r(s,i);return a!==V.Name||c instanceof V.Name?c:n(o,c)}}function a(e,t){if(!0===t)return e.var("props",!0);const r=e.var("props",V._`{}`);return void 0!==t&&c(e,r,t),r}function c(e,t,r){Object.keys(r).forEach((r=>e.assign(V._`${t}${V.getProperty(r)}`,!0)))}t.setEvaluated=t.evaluatedPropsToName=t.mergeEvaluated=t.eachItem=t.unescapeJsonPointer=t.escapeJsonPointer=t.escapeFragment=t.unescapeFragment=t.schemaRefOrVal=t.schemaHasRulesButRef=t.schemaHasRules=t.checkUnknownRules=t.alwaysValidSchema=t.toHash=void 0,t.toHash=function(e){const t={};for(const r of e)t[r]=!0;return t},t.alwaysValidSchema=function(e,t){return"boolean"==typeof t?t:0===Object.keys(t).length||(r(e,t),!n(t,e.self.RULES.all))},t.checkUnknownRules=r,t.schemaHasRules=n,t.schemaHasRulesButRef=function(e,t){if("boolean"==typeof e)return!e;for(const r in e)if("$ref"!==r&&t.all[r])return!0;return!1},t.schemaRefOrVal=function({topSchemaRef:e,schemaPath:t},r,n,o){if(!o){if("number"==typeof r||"boolean"==typeof r)return r;if("string"==typeof r)return V._`${r}`}return V._`${e}${t}${V.getProperty(n)}`},t.unescapeFragment=function(e){return s(decodeURIComponent(e))},t.escapeFragment=function(e){return encodeURIComponent(o(e))},t.escapeJsonPointer=o,t.unescapeJsonPointer=s,t.eachItem=function(e,t){if(Array.isArray(e))for(const r of e)t(r);else t(e)},t.mergeEvaluated={props:i({mergeNames:(e,t,r)=>e.if(V._`${r} !== true && ${t} !== undefined`,(()=>{e.if(V._`${t} === true`,(()=>e.assign(r,!0)),(()=>e.code(V._`Object.assign(${r}, ${t})`)))})),mergeToName:(e,t,r)=>e.if(V._`${r} !== true`,(()=>{!0===t?e.assign(r,!0):(e.assign(r,V._`${r} || {}`),c(e,r,t))})),mergeValues:(e,t)=>!0===e||{...e,...t},resultToName:a}),items:i({mergeNames:(e,t,r)=>e.if(V._`${r} !== true && ${t} !== undefined`,(()=>e.assign(r,V._`${t} === true ? true : ${r} > ${t} ? ${r} : ${t}`))),mergeToName:(e,t,r)=>e.if(V._`${r} !== true`,(()=>e.assign(r,!0===t||V._`${r} > ${t} ? ${r} : ${t}`))),mergeValues:(e,t)=>!0===e||Math.max(e,t),resultToName:(e,t)=>e.var("items",t)})},t.evaluatedPropsToName=a,t.setEvaluated=c})),Y=E((function(e,t){var r;function n(e){const t=Array.isArray(e)?e:e?[e]:[];if(t.every(A.isJSONType))return t;throw new Error("type must be JSONType or JSONType[]: "+t.join(","))}t.reportTypeError=t.checkDataTypes=t.checkDataType=t.coerceAndCheckDataType=t.getJSONTypes=t.getSchemaTypes=t.DataType=void 0,function(e){e[e.Correct=0]="Correct",e[e.Wrong=1]="Wrong"}(r=t.DataType||(t.DataType={})),t.getSchemaTypes=function(e){const t=n(e.type);if(t.includes("null")){if(!1===e.nullable)throw new Error("type: null contradicts nullable: false")}else{if(!t.length&&void 0!==e.nullable)throw new Error('"nullable" cannot be used without "type"');!0===e.nullable&&t.push("null")}return t},t.getJSONTypes=n,t.coerceAndCheckDataType=function(e,t){const{gen:n,data:s,opts:a}=e,u=function(e,t){return t?e.filter((e=>o.has(e)||"array"===t&&"array"===e)):[]}(t,a.coerceTypes),l=t.length>0&&!(0===u.length&&1===t.length&&R.schemaHasRulesForType(e,t[0]));if(l){const l=i(t,s,a.strict,r.Wrong);n.if(l,(()=>{u.length?function(e,t,r){const{gen:n,data:s,opts:a}=e,u=n.let("dataType",V._`typeof ${s}`),l=n.let("coerced",V._`undefined`);"array"===a.coerceTypes&&n.if(V._`${u} == 'object' && Array.isArray(${s}) && ${s}.length == 1`,(()=>n.assign(s,V._`${s}[0]`).assign(u,V._`typeof ${s}`).if(i(t,s,a.strict),(()=>n.assign(l,s)))));n.if(V._`${l} !== undefined`);for(const e of r)(o.has(e)||"array"===e&&"array"===a.coerceTypes)&&d(e);function d(e){switch(e){case"string":return void n.elseIf(V._`${u} == "number" || ${u} == "boolean"`).assign(l,V._`"" + ${s}`).elseIf(V._`${s} === null`).assign(l,V._`""`);case"number":return void n.elseIf(V._`${u} == "boolean" || ${s} === null
              || (${u} == "string" && ${s} && ${s} == +${s})`).assign(l,V._`+${s}`);case"integer":return void n.elseIf(V._`${u} === "boolean" || ${s} === null
              || (${u} === "string" && ${s} && ${s} == +${s} && !(${s} % 1))`).assign(l,V._`+${s}`);case"boolean":return void n.elseIf(V._`${s} === "false" || ${s} === 0 || ${s} === null`).assign(l,!1).elseIf(V._`${s} === "true" || ${s} === 1`).assign(l,!0);case"null":return n.elseIf(V._`${s} === "" || ${s} === 0 || ${s} === false`),void n.assign(l,null);case"array":n.elseIf(V._`${u} === "string" || ${u} === "number"
              || ${u} === "boolean" || ${s} === null`).assign(l,V._`[${s}]`)}}n.else(),c(e),n.endIf(),n.if(V._`${l} !== undefined`,(()=>{n.assign(s,l),function({gen:e,parentData:t,parentDataProperty:r},n){e.if(V._`${t} !== undefined`,(()=>e.assign(V._`${t}[${r}]`,n)))}(e,l)}))}(e,t,u):c(e)}))}return l};const o=new Set(["string","number","integer","boolean","null"]);function s(e,t,n,o=r.Correct){const s=o===r.Correct?V.operators.EQ:V.operators.NEQ;let i;switch(e){case"null":return V._`${t} ${s} null`;case"array":i=V._`Array.isArray(${t})`;break;case"object":i=V._`${t} && typeof ${t} == "object" && !Array.isArray(${t})`;break;case"integer":i=a(V._`!(${t} % 1) && !isNaN(${t})`);break;case"number":i=a();break;default:return V._`typeof ${t} ${s} ${e}`}return o===r.Correct?i:V.not(i);function a(e=V.nil){return V.and(V._`typeof ${t} == "number"`,e,n?V._`isFinite(${t})`:V.nil)}}function i(e,t,r,n){if(1===e.length)return s(e[0],t,r,n);let o;const i=Z.toHash(e);if(i.array&&i.object){const e=V._`typeof ${t} != "object"`;o=i.null?e:V._`!${t} || ${e}`,delete i.null,delete i.array,delete i.object}else o=V.nil;i.number&&delete i.integer;for(const e in i)o=V.and(o,s(e,t,r,n));return o}t.checkDataType=s,t.checkDataTypes=i;const a={message:({schema:e})=>V.str`should be ${e}`,params:({schema:e,schemaValue:t})=>"string"==typeof e?V._`{type: ${e}}`:V._`{type: ${t}}`};function c(e){const t=function(e){const{gen:t,data:r,schema:n}=e,o=Z.schemaRefOrVal(e,n,"type");return{gen:t,keyword:"type",data:r,schema:n.type,schemaCode:o,schemaValue:o,parentSchema:n,params:{},it:e}}(e);F.reportError(t,a)}t.reportTypeError=c})),X=E((function(e,t){t.getData=void 0;t.default=class{constructor(e,t,r){if(function({schema:e,opts:t,self:r},n,o){if(Array.isArray(n.keyword)?!n.keyword.includes(o):n.keyword!==o)throw new Error("ajv implementation error");const s=n.dependencies;if(null==s?void 0:s.some((t=>!Object.prototype.hasOwnProperty.call(e,t))))throw new Error(`parent schema must have dependencies of ${o}: ${s.join(",")}`);if(n.validateSchema){if(!n.validateSchema(e[o])){const e="keyword value is invalid: "+r.errorsText(n.validateSchema.errors);if("log"!==t.validateSchema)throw new Error(e);r.logger.error(e)}}}(e,t,r),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=r,this.data=e.data,this.schema=e.schema[r],this.$data=t.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=Z.schemaRefOrVal(e,this.schema,r,this.$data),this.schemaType=t.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=t,this.$data)this.schemaCode=e.gen.const("vSchema",o(this.$data,e));else if(this.schemaCode=this.schemaValue,!function(e,t,r=!1){return!t.length||t.some((t=>"array"===t?Array.isArray(e):"object"===t?e&&"object"==typeof e&&!Array.isArray(e):typeof e==t||r&&void 0===e))}(this.schema,t.schemaType,t.allowUndefined))throw new Error(`${r} value must be ${JSON.stringify(t.schemaType)}`);("code"in t?t.trackErrors:!1!==t.errors)&&(this.errsCount=e.gen.const("_errs",U.default.errors))}result(e,t,r){this.gen.if(V.not(e)),r?r():this.error(),t?(this.gen.else(),t(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,t){this.result(e,void 0,t)}fail(e){if(void 0===e)return this.error(),void(this.allErrors||this.gen.if(!1));this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);const{schemaCode:t}=this;this.fail(V._`${t} !== undefined && (${V.or(this.invalid$data(),e)})`)}error(e){(e?F.reportExtraError:F.reportError)(this,this.def.error)}$dataError(){F.reportError(this,this.def.$dataError||F.keyword$DataError)}reset(){if(void 0===this.errsCount)throw new Error('add "trackErrors" to keyword definition');F.resetErrorsCount(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,t){t?Object.assign(this.params,e):this.params=e}block$data(e,t,r=V.nil){this.gen.block((()=>{this.check$data(e,r),t()}))}check$data(e=V.nil,t=V.nil){if(!this.$data)return;const{gen:r,schemaCode:n,schemaType:o,def:s}=this;r.if(V.or(V._`${n} === undefined`,t)),e!==V.nil&&r.assign(e,!0),(o.length||s.validateSchema)&&(r.elseIf(this.invalid$data()),this.$dataError(),e!==V.nil&&r.assign(e,!1)),r.else()}invalid$data(){const{gen:e,schemaCode:t,schemaType:r,def:n,it:o}=this;return V.or(function(){if(r.length){if(!(t instanceof V.Name))throw new Error("ajv implementation error");const e=Array.isArray(r)?r:[r];return V._`${Y.checkDataTypes(e,t,o.opts.strict,Y.DataType.Wrong)}`}return V.nil}(),function(){if(n.validateSchema){const r=e.scopeValue("validate$data",{ref:n.validateSchema});return V._`!${r}(${t})`}return V.nil}())}subschema(e,t){return q.applySubschema(this.it,e,t)}mergeEvaluated(e,t){const{it:r,gen:n}=this;r.opts.unevaluated&&(!0!==r.props&&void 0!==e.props&&(r.props=Z.mergeEvaluated.props(n,e.props,r.props,t)),!0!==r.items&&void 0!==e.items&&(r.items=Z.mergeEvaluated.items(n,e.items,r.items,t)))}mergeValidEvaluated(e,t){const{it:r,gen:n}=this;if(r.opts.unevaluated&&(!0!==r.props||!0!==r.items))return n.if(t,(()=>this.mergeEvaluated(e,V.Name))),!0}};const r=/^\/(?:[^~]|~0|~1)*$/,n=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function o(e,{dataLevel:t,dataNames:o,dataPathArr:s}){let i,a;if(""===e)return U.default.rootData;if("/"===e[0]){if(!r.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);i=e,a=U.default.rootData}else{const r=n.exec(e);if(!r)throw new Error(`Invalid JSON-pointer: ${e}`);const c=+r[1];if(i=r[2],"#"===i){if(c>=t)throw new Error(l("property/index",c));return s[t-c]}if(c>t)throw new Error(l("data",c));if(a=o[t-c],!i)return a}let c=a;const u=i.split("/");for(const e of u)e&&(a=V._`${a}${V.getProperty(Z.unescapeJsonPointer(e))}`,c=V._`${c} && ${a}`);return c;function l(e,r){return`Cannot access ${e} ${r} levels up, current level is ${t}`}}t.getData=o})),ee=E((function(e,t){t.MissingRefError=t.ValidationError=void 0;class r extends Error{constructor(e){super("validation failed"),this.errors=e,this.ajv=this.validation=!0}}t.ValidationError=r;class n extends Error{constructor(e,t,r){super(r||`can't resolve reference ${t} from id ${e}`),this.missingRef=W.resolveUrl(e,t),this.missingSchema=W.normalizeId(W.getFullPath(this.missingRef))}}t.MissingRefError=n,e.exports={ValidationError:r,MissingRefError:n}})),te=E((function(e,t){t.resolveSchema=t.resolveRef=t.compileSchema=t.SchemaEnv=void 0;class r{constructor(e){var t;let r;this.refs={},this.dynamicAnchors={},"object"==typeof e.schema&&(r=e.schema),this.schema=e.schema,this.root=e.root||this,this.baseId=null!==(t=e.baseId)&&void 0!==t?t:W.normalizeId(null==r?void 0:r.$id),this.localRefs=e.localRefs,this.meta=e.meta,this.$async=null==r?void 0:r.$async,this.refs={}}}function n(e){const t=s.call(this,e);if(t)return t;const r=W.getFullPath(e.root.baseId),{es5:n,lines:o}=this.opts.code,{ownProperties:i}=this.opts,a=new V.CodeGen(this.scope,{es5:n,lines:o,ownProperties:i});let c;e.$async&&(c=a.scopeValue("Error",{ref:ee.ValidationError,code:V._`require("ajv/dist/compile/error_classes").ValidationError`}));const u=a.scopeName("validate");e.validateName=u;const l={gen:a,allErrors:this.opts.allErrors,data:U.default.data,parentData:U.default.parentData,parentDataProperty:U.default.parentDataProperty,dataNames:[U.default.data],dataPathArr:[V.nil],dataLevel:0,dataTypes:[],topSchemaRef:a.scopeValue("schema",!0===this.opts.code.source?{ref:e.schema,code:V.stringify(e.schema)}:{ref:e.schema}),validateName:u,ValidationError:c,schema:e.schema,schemaEnv:e,rootId:r,baseId:e.baseId||r,schemaPath:V.nil,errSchemaPath:this.opts.jtd?"":"#",errorPath:V._`""`,opts:this.opts,self:this};let d;try{this._compilations.add(e),Q.validateFunctionCode(l),a.optimize(this.opts.code.optimize);const t=a.toString();d=`${a.scopeRefs(U.default.scope)}return ${t}`,this.opts.code.process&&(d=this.opts.code.process(d,e));const r=new Function(`${U.default.self}`,`${U.default.scope}`,d)(this,this.scope.get());if(this.scope.value(u,{ref:r}),r.errors=null,r.schema=e.schema,r.schemaEnv=e,e.$async&&(r.$async=!0),!0===this.opts.code.source&&(r.source={validateName:u,validateCode:t,scopeValues:a._values}),this.opts.unevaluated){const{props:e,items:t}=l;r.evaluated={props:e instanceof V.Name?void 0:e,items:t instanceof V.Name?void 0:t,dynamicProps:e instanceof V.Name,dynamicItems:t instanceof V.Name},r.source&&(r.source.evaluated=V.stringify(r.evaluated))}return e.validate=r,e}catch(t){throw delete e.validate,delete e.validateName,d&&this.logger.error("Error compiling schema, function code:",d),t}finally{this._compilations.delete(e)}}function o(e){return W.inlineRef(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:n.call(this,e)}function s(e){for(const n of this._compilations)if(r=e,(t=n).schema===r.schema&&t.root===r.root&&t.baseId===r.baseId)return n;var t,r}function i(e,t){let r;for(;"string"==typeof(r=this.refs[t]);)t=r;return r||this.schemas[t]||a.call(this,e,t)}function a(e,t){const o=B.parse(t),s=W._getFullPath(o);let i=W.getFullPath(e.baseId);if(Object.keys(e.schema).length>0&&s===i)return u.call(this,o,e);const c=W.normalizeId(s),l=this.refs[c]||this.schemas[c];if("string"==typeof l){const t=a.call(this,e,l);if("object"!=typeof(null==t?void 0:t.schema))return;return u.call(this,o,t)}if("object"==typeof(null==l?void 0:l.schema)){if(l.validate||n.call(this,l),c===W.normalizeId(t)){const{schema:t}=l;return t.$id&&(i=W.resolveUrl(i,t.$id)),new r({schema:t,root:e,baseId:i})}return u.call(this,o,l)}}t.SchemaEnv=r,t.compileSchema=n,t.resolveRef=function(e,t,n){var s;n=W.resolveUrl(t,n);const a=e.refs[n];if(a)return a;let c=i.call(this,e,n);if(void 0===c){const o=null===(s=e.localRefs)||void 0===s?void 0:s[n];o&&(c=new r({schema:o,root:e,baseId:t}))}return void 0!==c?e.refs[n]=o.call(this,c):void 0},t.resolveSchema=a;const c=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function u(e,{baseId:t,schema:n,root:o}){var s;if("/"!==(null===(s=e.fragment)||void 0===s?void 0:s[0]))return;for(const r of e.fragment.slice(1).split("/")){if("boolean"==typeof n)return;if(void 0===(n=n[Z.unescapeFragment(r)]))return;!c.has(r)&&"object"==typeof n&&n.$id&&(t=W.resolveUrl(t,n.$id))}let i;if("boolean"!=typeof n&&n.$ref&&!Z.schemaHasRulesButRef(n,this.RULES)){const e=W.resolveUrl(t,n.$ref);i=a.call(this,o,e)}return i=i||new r({schema:n,root:o,baseId:t}),i.schema!==i.root.schema?i:void 0}})),re={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1},ne=E((function(e,t){t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0,t.KeywordCxt=X.default,Object.defineProperty(t,"_",{enumerable:!0,get:function(){return V._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return V.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return V.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return V.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return V.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return V.CodeGen}});const r=V,n=["removeAdditional","useDefaults","coerceTypes"],o=new Set(["validate","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),s={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",schemaId:"JSON Schema draft-04 is not supported in Ajv v7.",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",strictNumbers:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key."},i={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'};function a(e){var t,r,n,o,s,i,a,c,u,l,d,f;const h=null===(t=e.strict)||void 0===t||t,p=!!h&&"log",m=null===(r=e.code)||void 0===r?void 0:r.optimize,y=!0===m||void 0===m?1:m||0;return{strict:h,strictTypes:null!==(n=e.strictTypes)&&void 0!==n?n:p,strictTuples:null!==(o=e.strictTuples)&&void 0!==o?o:p,code:e.code?{...e.code,optimize:y}:{optimize:y},loopRequired:null!==(s=e.loopRequired)&&void 0!==s?s:1/0,loopEnum:null!==(i=e.loopEnum)&&void 0!==i?i:1/0,meta:null===(a=e.meta)||void 0===a||a,messages:null===(c=e.messages)||void 0===c||c,inlineRefs:null===(u=e.inlineRefs)||void 0===u||u,addUsedSchema:null===(l=e.addUsedSchema)||void 0===l||l,validateSchema:null===(d=e.validateSchema)||void 0===d||d,validateFormats:null===(f=e.validateFormats)||void 0===f||f}}class c{constructor(e={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,e=this.opts={...e,...a(e)};const{es5:t,lines:n}=this.opts.code;this.scope=new r.ValueScope({scope:{},prefixes:o,es5:t,lines:n}),this.logger=function(e){if(!1===e)return m;if(void 0===e)return console;if(e.log&&e.warn&&e.error)return e;throw new Error("logger must implement log, warn and error methods")}(e.logger);const c=e.validateFormats;e.validateFormats=!1,this.RULES=A.getRules(),u.call(this,s,e,"NOT SUPPORTED"),u.call(this,i,e,"DEPRECATED","warn"),this._metaOpts=p.call(this),e.formats&&f.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),e.keywords&&h.call(this,e.keywords),"object"==typeof e.meta&&this.addMetaSchema(e.meta),d.call(this),e.validateFormats=c}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:e,meta:t}=this.opts;t&&e&&this.addMetaSchema(re,re.$id,!1)}defaultMeta(){const{meta:e}=this.opts;return this.opts.defaultMeta="object"==typeof e?e.$id||e:void 0}validate(e,t){let r;if("string"==typeof e){if(r=this.getSchema(e),!r)throw new Error(`no schema with key or ref "${e}"`)}else r=this.compile(e);const n=r(t);return"$async"in r||(this.errors=r.errors),n}compile(e,t){const r=this._addSchema(e,t);return r.validate||this._compileSchemaEnv(r)}compileAsync(e,t){if("function"!=typeof this.opts.loadSchema)throw new Error("options.loadSchema should be a function");const{loadSchema:r}=this.opts;return n.call(this,e,t);async function n(e,t){await o.call(this,e.$schema);const r=this._addSchema(e,t);return r.validate||s.call(this,r)}async function o(e){e&&!this.getSchema(e)&&await n.call(this,{$ref:e},!0)}async function s(e){try{return this._compileSchemaEnv(e)}catch(t){if(!(t instanceof ee.MissingRefError))throw t;return i.call(this,t),await a.call(this,t.missingSchema),s.call(this,e)}}function i({missingSchema:e,missingRef:t}){if(this.refs[e])throw new Error(`AnySchema ${e} is loaded but ${t} cannot be resolved`)}async function a(e){const r=await c.call(this,e);this.refs[e]||await o.call(this,r.$schema),this.refs[e]||this.addSchema(r,e,t)}async function c(e){const t=this._loading[e];if(t)return t;try{return await(this._loading[e]=r(e))}finally{delete this._loading[e]}}}addSchema(e,t,r,n=this.opts.validateSchema){if(Array.isArray(e)){for(const t of e)this.addSchema(t,void 0,r,n);return this}let o;if("object"==typeof e&&(o=e.$id,void 0!==o&&"string"!=typeof o))throw new Error("schema id must be string");return t=W.normalizeId(t||o),this._checkUnique(t),this.schemas[t]=this._addSchema(e,r,n,!0),this}addMetaSchema(e,t,r=this.opts.validateSchema){return this.addSchema(e,t,!0,r),this}validateSchema(e,t){if("boolean"==typeof e)return!0;let r;if(r=e.$schema,void 0!==r&&"string"!=typeof r)throw new Error("$schema must be a string");if(r=r||this.opts.defaultMeta||this.defaultMeta(),!r)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const n=this.validate(r,e);if(!n&&t){const e="schema is invalid: "+this.errorsText();if("log"!==this.opts.validateSchema)throw new Error(e);this.logger.error(e)}return n}getSchema(e){let t;for(;"string"==typeof(t=l.call(this,e));)e=t;if(void 0===t){const r=new te.SchemaEnv({schema:{}});if(t=te.resolveSchema.call(this,r,e),!t)return;this.refs[e]=t}return t.validate||this._compileSchemaEnv(t)}removeSchema(e){if(e instanceof RegExp)return this._removeAllSchemas(this.schemas,e),this._removeAllSchemas(this.refs,e),this;switch(typeof e){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const t=l.call(this,e);return"object"==typeof t&&this._cache.delete(t.schema),delete this.schemas[e],delete this.refs[e],this}case"object":{const t=e;this._cache.delete(t);let r=e.$id;return r&&(r=W.normalizeId(r),delete this.schemas[r],delete this.refs[r]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(e){for(const t of e)this.addKeyword(t);return this}addKeyword(e,t){let r;if("string"==typeof e)r=e,"object"==typeof t&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),t.keyword=r);else{if("object"!=typeof e||void 0!==t)throw new Error("invalid addKeywords parameters");if(r=(t=e).keyword,Array.isArray(r)&&!r.length)throw new Error("addKeywords: keyword must be string or non-empty array")}if(v.call(this,r,t),!t)return Z.eachItem(r,(e=>g.call(this,e))),this;w.call(this,t);const n={...t,type:Y.getJSONTypes(t.type),schemaType:Y.getJSONTypes(t.schemaType)};return Z.eachItem(r,0===n.type.length?e=>g.call(this,e,n):e=>n.type.forEach((t=>g.call(this,e,n,t)))),this}getKeyword(e){const t=this.RULES.all[e];return"object"==typeof t?t.definition:!!t}removeKeyword(e){const{RULES:t}=this;delete t.keywords[e],delete t.all[e];for(const r of t.rules){const t=r.rules.findIndex((t=>t.keyword===e));t>=0&&r.rules.splice(t,1)}return this}addFormat(e,t){return"string"==typeof t&&(t=new RegExp(t)),this.formats[e]=t,this}errorsText(e=this.errors,{separator:t=", ",dataVar:r="data"}={}){return e&&0!==e.length?e.map((e=>`${r}${e.dataPath} ${e.message}`)).reduce(((e,r)=>e+t+r)):"No errors"}$dataMetaSchema(e,t){const r=this.RULES.all;e=JSON.parse(JSON.stringify(e));for(const n of t){const t=n.split("/").slice(1);let o=e;for(const e of t)o=o[e];for(const e in r){const t=r[e];if("object"!=typeof t)continue;const{$data:n}=t.definition,s=o[e];n&&s&&(o[e]=_(s))}}return e}_removeAllSchemas(e,t){for(const r in e){const n=e[r];t&&!t.test(r)||("string"==typeof n?delete e[r]:n&&!n.meta&&(this._cache.delete(n.schema),delete e[r]))}}_addSchema(e,t,r=this.opts.validateSchema,n=this.opts.addUsedSchema){if("object"!=typeof e){if(this.opts.jtd)throw new Error("schema must be object");if("boolean"!=typeof e)throw new Error("schema must be object or boolean")}let o=this._cache.get(e);if(void 0!==o)return o;const s=W.getSchemaRefs.call(this,e);o=new te.SchemaEnv({schema:e,meta:t,localRefs:s}),this._cache.set(o.schema,o);const i=o.baseId;return n&&!i.startsWith("#")&&(i&&this._checkUnique(i),this.refs[i]=o),r&&this.validateSchema(e,!0),o}_checkUnique(e){if(this.schemas[e]||this.refs[e])throw new Error(`schema with key or id "${e}" already exists`)}_compileSchemaEnv(e){if(e.meta?this._compileMetaSchema(e):te.compileSchema.call(this,e),!e.validate)throw new Error("ajv implementation error");return e.validate}_compileMetaSchema(e){const t=this.opts;this.opts=this._metaOpts;try{te.compileSchema.call(this,e)}finally{this.opts=t}}}function u(e,t,r,n="error"){for(const o in e){const s=o;s in t&&this.logger[n](`${r}: option ${o}. ${e[s]}`)}}function l(e){return e=W.normalizeId(e),this.schemas[e]||this.refs[e]}function d(){const e=this.opts.schemas;if(e)if(Array.isArray(e))this.addSchema(e);else for(const t in e)this.addSchema(e[t],t)}function f(){for(const e in this.opts.formats){const t=this.opts.formats[e];t&&this.addFormat(e,t)}}function h(e){if(Array.isArray(e))this.addVocabulary(e);else{this.logger.warn("keywords option as map is deprecated, pass array");for(const t in e){const r=e[t];r.keyword||(r.keyword=t),this.addKeyword(r)}}}function p(){const e={...this.opts};for(const t of n)delete e[t];return e}t.default=c,c.ValidationError=ee.ValidationError,c.MissingRefError=ee.MissingRefError;const m={log(){},warn(){},error(){}};const y=/^[a-z_$][a-z0-9_$:-]*$/i;function v(e,t){const{RULES:r}=this;if(Z.eachItem(e,(e=>{if(r.keywords[e])throw new Error(`Keyword ${e} is already defined`);if(!y.test(e))throw new Error(`Keyword ${e} has invalid name`)})),t&&t.$data&&!("code"in t)&&!("validate"in t))throw new Error('$data keyword must have "code" or "validate" function')}function g(e,t,r){var n;const o=null==t?void 0:t.post;if(r&&o)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:s}=this;let i=o?s.post:s.rules.find((({type:e})=>e===r));if(i||(i={type:r,rules:[]},s.rules.push(i)),s.keywords[e]=!0,!t)return;const a={keyword:e,definition:{...t,type:Y.getJSONTypes(t.type),schemaType:Y.getJSONTypes(t.schemaType)}};t.before?$.call(this,i,a,t.before):i.rules.push(a),s.all[e]=a,null===(n=t.implements)||void 0===n||n.forEach((e=>this.addKeyword(e)))}function $(e,t,r){const n=e.rules.findIndex((e=>e.keyword===r));n>=0?e.rules.splice(n,0,t):(e.rules.push(t),this.logger.warn(`rule ${r} is not defined`))}function w(e){let{metaSchema:t}=e;void 0!==t&&(e.$data&&this.opts.$data&&(t=_(t)),e.validateSchema=this.compile(t,!0))}const b={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function _(e){return{anyOf:[e,b]}}}));var oe={default:{keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}}},se=E((function(e,t){t.callRef=t.getValidate=void 0;const r={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:r,it:s}=e,{baseId:i,schemaEnv:a,validateName:c,opts:u,self:l}=s;if("#"===r||"#/"===r)return function(){if(a===a.root)return o(e,c,a,a.$async);const r=t.scopeValue("root",{ref:a.root});return o(e,V._`${r}.validate`,a.root,a.root.$async)}();const d=te.resolveRef.call(l,a.root,i,r);if(void 0===d)throw new ee.MissingRefError(i,r);return d instanceof te.SchemaEnv?function(t){const r=n(e,t);o(e,r,t,t.$async)}(d):function(n){const o=t.scopeValue("schema",!0===u.code.source?{ref:n,code:V.stringify(n)}:{ref:n}),s=t.name("valid"),i=e.subschema({schema:n,dataTypes:[],schemaPath:V.nil,topSchemaRef:o,errSchemaPath:r},s);e.mergeEvaluated(i),e.ok(s)}(d)}};function n(e,t){const{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):V._`${r.scopeValue("wrapper",{ref:t})}.validate`}function o(e,t,r,n){const{gen:o,it:s}=e,{allErrors:i,schemaEnv:a,opts:c}=s,u=c.passContext?U.default.this:V.nil;function l(e){const t=V._`${e}.errors`;o.assign(U.default.vErrors,V._`${U.default.vErrors} === null ? ${t} : ${U.default.vErrors}.concat(${t})`),o.assign(U.default.errors,V._`${U.default.vErrors}.length`)}function d(e){var t;if(!s.opts.unevaluated)return;const n=null===(t=null==r?void 0:r.validate)||void 0===t?void 0:t.evaluated;if(!0!==s.props)if(n&&!n.dynamicProps)void 0!==n.props&&(s.props=Z.mergeEvaluated.props(o,n.props,s.props));else{const t=o.var("props",V._`${e}.evaluated.props`);s.props=Z.mergeEvaluated.props(o,t,s.props,V.Name)}if(!0!==s.items)if(n&&!n.dynamicItems)void 0!==n.items&&(s.items=Z.mergeEvaluated.items(o,n.items,s.items));else{const t=o.var("items",V._`${e}.evaluated.items`);s.items=Z.mergeEvaluated.items(o,t,s.items,V.Name)}}n?function(){if(!a.$async)throw new Error("async schema referenced by sync schema");const r=o.let("valid");o.try((()=>{o.code(V._`await ${L.callValidateCode(e,t,u)}`),d(t),i||o.assign(r,!0)}),(e=>{o.if(V._`!(${e} instanceof ${s.ValidationError})`,(()=>o.throw(e))),l(e),i||o.assign(r,!1)})),e.ok(r)}():e.result(L.callValidateCode(e,t,u),(()=>d(t)),(()=>l(t)))}t.getValidate=n,t.callRef=o,t.default=r}));var ie={default:["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",oe.default,se.default]};const ae=V.operators,ce={maximum:{okStr:"<=",ok:ae.LTE,fail:ae.GT},minimum:{okStr:">=",ok:ae.GTE,fail:ae.LT},exclusiveMaximum:{okStr:"<",ok:ae.LT,fail:ae.GTE},exclusiveMinimum:{okStr:">",ok:ae.GT,fail:ae.LTE}},ue={message:({keyword:e,schemaCode:t})=>V.str`should be ${ce[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>V._`{comparison: ${ce[e].okStr}, limit: ${t}}`},le={keyword:Object.keys(ce),type:"number",schemaType:"number",$data:!0,error:ue,code(e){const{keyword:t,data:r,schemaCode:n}=e;e.fail$data(V._`${r} ${ce[t].fail} ${n} || isNaN(${r})`)}};var de={default:function(e){const t=e.length;let r,n=0,o=0;for(;o<t;)n++,r=e.charCodeAt(o++),r>=55296&&r<=56319&&o<t&&(r=e.charCodeAt(o),56320==(64512&r)&&o++);return n}};var fe={default:[{default:le}.default,{default:{keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:e})=>V.str`should be multiple of ${e}`,params:({schemaCode:e})=>V._`{multipleOf: ${e}}`},code(e){const{gen:t,data:r,schemaCode:n,it:o}=e,s=o.opts.multipleOfPrecision,i=t.let("res"),a=s?V._`Math.abs(Math.round(${i}) - ${i}) > 1e-${s}`:V._`${i} !== parseInt(${i})`;e.fail$data(V._`(${n} === 0 || (${i} = ${r}/${n}, ${a}))`)}}}.default,{default:{keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:e,schemaCode:t}){const r="maxLength"===e?"more":"fewer";return V.str`should NOT have ${r} than ${t} characters`},params:({schemaCode:e})=>V._`{limit: ${e}}`},code(e){const{keyword:t,data:r,schemaCode:n,it:o}=e,s="maxLength"===t?V.operators.GT:V.operators.LT;let i;if(!1===o.opts.unicode)i=V._`${r}.length`;else{const t=e.gen.scopeValue("func",{ref:de.default,code:V._`require("ajv/dist/compile/ucs2length").default`});i=V._`${t}(${r})`}e.fail$data(V._`${i} ${s} ${n}`)}}}.default,{default:{keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:e})=>V.str`should match pattern "${e}"`,params:({schemaCode:e})=>V._`{pattern: ${e}}`},code(e){const{gen:t,data:r,$data:n,schema:o,schemaCode:s}=e,i=n?V._`(new RegExp(${s}, "u"))`:L.usePattern(t,o);e.fail$data(V._`!${i}.test(${r})`)}}}.default,{default:{keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:e,schemaCode:t}){const r="maxProperties"===e?"more":"fewer";return V.str`should NOT have ${r} than ${t} items`},params:({schemaCode:e})=>V._`{limit: ${e}}`},code(e){const{keyword:t,data:r,schemaCode:n}=e,o="maxProperties"===t?V.operators.GT:V.operators.LT;e.fail$data(V._`Object.keys(${r}).length ${o} ${n}`)}}}.default,{default:{keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:e}})=>V.str`should have required property '${e}'`,params:({params:{missingProperty:e}})=>V._`{missingProperty: ${e}}`},code(e){const{gen:t,schema:r,schemaCode:n,data:o,$data:s,it:i}=e,{opts:a}=i;if(!s&&0===r.length)return;const c=r.length>=a.loopRequired;function u(){t.forOf("prop",n,(r=>{e.setParams({missingProperty:r}),t.if(L.noPropertyInData(o,r,a.ownProperties),(()=>e.error()))}))}i.allErrors?function(){if(c||s)e.block$data(V.nil,u);else for(const t of r)L.checkReportMissingProp(e,t)}():function(){const i=t.let("missing");if(c||s){const r=t.let("valid",!0);e.block$data(r,(()=>function(r,s){e.setParams({missingProperty:r}),t.forOf(r,n,(()=>{t.assign(s,L.propertyInData(o,r,a.ownProperties)),t.if(V.not(s),(()=>{e.error(),t.break()}))}),V.nil)}(i,r))),e.ok(r)}else t.if(L.checkMissingProp(e,r,i)),L.reportMissingProp(e,i),t.else()}()}}}.default,{default:{keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:e,schemaCode:t}){const r="maxItems"===e?"more":"fewer";return V.str`should NOT have ${r} than ${t} items`},params:({schemaCode:e})=>V._`{limit: ${e}}`},code(e){const{keyword:t,data:r,schemaCode:n}=e,o="maxItems"===t?V.operators.GT:V.operators.LT;e.fail$data(V._`${r}.length ${o} ${n}`)}}}.default,{default:{keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:e,j:t}})=>V.str`should NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>V._`{i: ${e}, j: ${t}}`},code(e){const{gen:t,data:r,$data:n,schema:o,parentSchema:s,schemaCode:i,it:a}=e;if(!n&&!o)return;const c=t.let("valid"),u=s.items?Y.getSchemaTypes(s.items):[];function l(n,o){const s=t.name("item"),i=Y.checkDataTypes(u,s,a.opts.strict,Y.DataType.Wrong),l=t.const("indices",V._`{}`);t.for(V._`;${n}--;`,(()=>{t.let(s,V._`${r}[${n}]`),t.if(i,V._`continue`),u.length>1&&t.if(V._`typeof ${s} == "string"`,V._`${s} += "_"`),t.if(V._`typeof ${l}[${s}] == "number"`,(()=>{t.assign(o,V._`${l}[${s}]`),e.error(),t.assign(c,!1).break()})).code(V._`${l}[${s}] = ${n}`)}))}function d(n,o){const s=e.gen.scopeValue("func",{ref:H,code:V._`require("ajv/dist/compile/equal")`}),i=t.name("outer");t.label(i).for(V._`;${n}--;`,(()=>t.for(V._`${o} = ${n}; ${o}--;`,(()=>t.if(V._`${s}(${r}[${n}], ${r}[${o}])`,(()=>{e.error(),t.assign(c,!1).break(i)}))))))}e.block$data(c,(function(){const n=t.let("i",V._`${r}.length`),o=t.let("j");e.setParams({i:n,j:o}),t.assign(c,!0),t.if(V._`${n} > 1`,(()=>(u.length>0&&!u.some((e=>"object"===e||"array"===e))?l:d)(n,o)))}),V._`${i} === false`),e.ok(c)}}}.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},{default:{keyword:"const",$data:!0,error:{message:"should be equal to constant",params:({schemaCode:e})=>V._`{allowedValue: ${e}}`},code(e){const t=e.gen.scopeValue("func",{ref:H,code:V._`require("ajv/dist/compile/equal")`});e.fail$data(V._`!${t}(${e.data}, ${e.schemaCode})`)}}}.default,{default:{keyword:"enum",schemaType:"array",$data:!0,error:{message:"should be equal to one of the allowed values",params:({schemaCode:e})=>V._`{allowedValues: ${e}}`},code(e){const{gen:t,data:r,$data:n,schema:o,schemaCode:s,it:i}=e;if(!n&&0===o.length)throw new Error("enum must have non-empty array");const a=o.length>=i.opts.loopEnum,c=e.gen.scopeValue("func",{ref:H,code:V._`require("ajv/dist/compile/equal")`});let u;if(a||n)u=t.let("valid"),e.block$data(u,(function(){t.assign(u,!1),t.forOf("v",s,(e=>t.if(V._`${c}(${r}, ${e})`,(()=>t.assign(u,!0).break()))))}));else{if(!Array.isArray(o))throw new Error("ajv implementation error");const e=t.const("vSchema",s);u=V.or(...o.map(((t,n)=>function(e,t){const n=o[t];return n&&"object"==typeof n?V._`${c}(${r}, ${e}[${t}])`:V._`${r} === ${n}`}(e,n))))}e.pass(u)}}}.default]};var he={default:{keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:e}})=>V.str`should NOT have more than ${e} items`,params:({params:{len:e}})=>V._`{limit: ${e}}`},code(e){const{gen:t,schema:r,parentSchema:n,data:o,it:s}=e,{items:i}=n;if(!Array.isArray(i))return void Q.checkStrictMode(s,'"additionalItems" is ignored when "items" is not an array of schemas');s.items=!0;const a=t.const("len",V._`${o}.length`);if(!1===r)e.setParams({len:i.length}),e.pass(V._`${a} <= ${i.length}`);else if("object"==typeof r&&!Z.alwaysValidSchema(s,r)){const r=t.var("valid",V._`${a} <= ${i.length}`);t.if(V.not(r),(()=>function(r){t.forRange("i",i.length,a,(n=>{e.subschema({keyword:"additionalItems",dataProp:n,dataPropType:q.Type.Num},r),s.allErrors||t.if(V.not(r),(()=>t.break()))}))}(r))),e.ok(r)}}}};var pe={default:{keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{gen:t,schema:r,it:n}=e;if(Array.isArray(r))n.opts.unevaluated&&r.length&&!0!==n.items&&(n.items=Z.mergeEvaluated.items(t,r.length,n.items)),function(r){const{parentSchema:o,data:s}=e;if(n.opts.strictTuples&&!function(e,t){return e===t.minItems&&(e===t.maxItems||!1===t.additionalItems)}(r.length,o)){const e=`"items" is ${r.length}-tuple, but minItems or maxItems/additionalItems are not specified or different`;Q.checkStrictMode(n,e,n.opts.strictTuples)}const i=t.name("valid"),a=t.const("len",V._`${s}.length`);r.forEach(((r,o)=>{Z.alwaysValidSchema(n,r)||(t.if(V._`${a} > ${o}`,(()=>e.subschema({keyword:"items",schemaProp:o,dataProp:o},i))),e.ok(i))}))}(r);else{if(n.items=!0,Z.alwaysValidSchema(n,r))return;e.ok(L.validateArray(e))}}}};var me={default:{keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:e,max:t}})=>void 0===t?V.str`should contain at least ${e} valid item(s)`:V.str`should contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>void 0===t?V._`{minContains: ${e}}`:V._`{minContains: ${e}, maxContains: ${t}}`},code(e){const{gen:t,schema:r,parentSchema:n,data:o,it:s}=e;let i,a;const{minContains:c,maxContains:u}=n;s.opts.next?(i=void 0===c?1:c,a=u):i=1;const l=t.const("len",V._`${o}.length`);if(e.setParams({min:i,max:a}),void 0===a&&0===i)return void Q.checkStrictMode(s,'"minContains" == 0 without "maxContains": "contains" keyword ignored');if(void 0!==a&&i>a)return Q.checkStrictMode(s,'"minContains" > "maxContains" is always invalid'),void e.fail();if(Z.alwaysValidSchema(s,r)){let t=V._`${l} >= ${i}`;return void 0!==a&&(t=V._`${t} && ${l} <= ${a}`),void e.pass(t)}s.items=!0;const d=t.name("valid");if(void 0===a&&1===i)f(d,(()=>t.if(d,(()=>t.break()))));else{t.let(d,!1);const e=t.name("_valid"),r=t.let("count",0);f(e,(()=>t.if(e,(()=>function(e){t.code(V._`${e}++`),void 0===a?t.if(V._`${e} >= ${i}`,(()=>t.assign(d,!0).break())):(t.if(V._`${e} > ${a}`,(()=>t.assign(d,!1).break())),1===i?t.assign(d,!0):t.if(V._`${e} >= ${i}`,(()=>t.assign(d,!0))))}(r)))))}function f(r,n){t.forRange("i",0,l,(t=>{e.subschema({keyword:"contains",dataProp:t,dataPropType:q.Type.Num,compositeRule:!0},r),n()}))}e.result(d,(()=>e.reset()))}}},ye=E((function(e,t){t.validateSchemaDeps=t.validatePropertyDeps=t.error=void 0,t.error={message:({params:{property:e,depsCount:t,deps:r}})=>{const n=1===t?"property":"properties";return V.str`should have ${n} ${r} when property ${e} is present`},params:({params:{property:e,depsCount:t,deps:r,missingProperty:n}})=>V._`{property: ${e},
    missingProperty: ${n},
    depsCount: ${t},
    deps: ${r}}`};const r={keyword:"dependencies",type:"object",schemaType:"object",error:t.error,code(e){const[t,r]=function({schema:e}){const t={},r={};for(const n in e){if("__proto__"===n)continue;(Array.isArray(e[n])?t:r)[n]=e[n]}return[t,r]}(e);n(e,t),o(e,r)}};function n(e,t=e.schema){const{gen:r,data:n,it:o}=e;if(0===Object.keys(t).length)return;const s=r.let("missing");for(const i in t){const a=t[i];if(0===a.length)continue;const c=L.propertyInData(n,i,o.opts.ownProperties);e.setParams({property:i,depsCount:a.length,deps:a.join(", ")}),o.allErrors?r.if(c,(()=>{for(const t of a)L.checkReportMissingProp(e,t)})):(r.if(V._`${c} && (${L.checkMissingProp(e,a,s)})`),L.reportMissingProp(e,s),r.else())}}function o(e,t=e.schema){const{gen:r,data:n,keyword:o,it:s}=e,i=r.name("valid");for(const a in t)Z.alwaysValidSchema(s,t[a])||(r.if(L.propertyInData(n,a,s.opts.ownProperties),(()=>{const t=e.subschema({keyword:o,schemaProp:a},i);e.mergeValidEvaluated(t,i)}),(()=>r.var(i,!0))),e.ok(i))}t.validatePropertyDeps=n,t.validateSchemaDeps=o,t.default=r}));var ve={default:{keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:({params:e})=>V.str`property name '${e.propertyName}' is invalid`,params:({params:e})=>V._`{propertyName: ${e.propertyName}}`},code(e){const{gen:t,schema:r,data:n,it:o}=e;if(Z.alwaysValidSchema(o,r))return;const s=t.name("valid");t.forIn("key",n,(r=>{e.setParams({propertyName:r}),e.subschema({keyword:"propertyNames",data:r,dataTypes:["string"],propertyName:r,compositeRule:!0},s),t.if(V.not(s),(()=>{e.error(!0),o.allErrors||t.break()}))})),e.ok(s)}}};var ge={default:{keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"should NOT have additional properties",params:({params:e})=>V._`{additionalProperty: ${e.additionalProperty}}`},code(e){const{gen:t,schema:r,parentSchema:n,data:o,errsCount:s,it:i}=e;if(!s)throw new Error("ajv implementation error");const{allErrors:a,opts:c}=i;if(i.props=!0,"all"!==c.removeAdditional&&Z.alwaysValidSchema(i,r))return;const u=L.allSchemaProperties(n.properties),l=L.allSchemaProperties(n.patternProperties);function d(e){t.code(V._`delete ${o}[${e}]`)}function f(n){if("all"===c.removeAdditional||c.removeAdditional&&!1===r)d(n);else{if(!1===r)return e.setParams({additionalProperty:n}),e.error(),void(a||t.break());if("object"==typeof r&&!Z.alwaysValidSchema(i,r)){const r=t.name("valid");"failing"===c.removeAdditional?(h(n,r,!1),t.if(V.not(r),(()=>{e.reset(),d(n)}))):(h(n,r),a||t.if(V.not(r),(()=>t.break())))}}}function h(t,r,n){const o={keyword:"additionalProperties",dataProp:t,dataPropType:q.Type.Str};!1===n&&Object.assign(o,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(o,r)}t.forIn("key",o,(e=>{u.length||l.length?t.if(function(e){let r;if(u.length>8){const o=t.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:V._`Object.prototype.hasOwnProperty`}),s=Z.schemaRefOrVal(i,n.properties,"properties");r=V._`${o}.call(${s}, ${e})`}else r=u.length?V.or(...u.map((t=>V._`${e} === ${t}`))):V.nil;return l.length&&(r=V.or(r,...l.map((r=>V._`${L.usePattern(t,r)}.test(${e})`)))),V.not(r)}(e),(()=>f(e))):f(e)})),e.ok(V._`${s} === ${U.default.errors}`)}}};var $e={default:{keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,parentSchema:n,data:o,it:s}=e;"all"===s.opts.removeAdditional&&void 0===n.additionalProperties&&ge.default.code(new X.default(s,ge.default,"additionalProperties"));const i=L.allSchemaProperties(r);s.opts.unevaluated&&i.length&&!0!==s.props&&(s.props=Z.mergeEvaluated.props(t,Z.toHash(i),s.props));const a=i.filter((e=>!Z.alwaysValidSchema(s,r[e])));if(0===a.length)return;const c=t.name("valid");for(const r of a)u(r)?l(r):(t.if(L.propertyInData(o,r,s.opts.ownProperties)),l(r),s.allErrors||t.else().var(c,!0),t.endIf()),e.ok(c);function u(e){return s.opts.useDefaults&&!s.compositeRule&&void 0!==r[e].default}function l(t){e.subschema({keyword:"properties",schemaProp:t,dataProp:t},c)}}}};var we={default:{keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,data:n,parentSchema:o,it:s}=e,{opts:i}=s,a=L.schemaProperties(s,r);if(0===a.length)return;const c=i.strict&&!i.allowMatchingProperties&&o.properties,u=t.name("valid");!0===s.props||s.props instanceof V.Name||(s.props=Z.evaluatedPropsToName(t,s.props));const{props:l}=s;function d(e){for(const t in c)new RegExp(e).test(t)&&Q.checkStrictMode(s,`property ${t} matches pattern ${e} (use allowMatchingProperties)`)}function f(r){t.forIn("key",n,(n=>{t.if(V._`${L.usePattern(t,r)}.test(${n})`,(()=>{e.subschema({keyword:"patternProperties",schemaProp:r,dataProp:n,dataPropType:q.Type.Str},u),s.opts.unevaluated&&!0!==l?t.assign(V._`${l}[${n}]`,!0):s.allErrors||t.if(V.not(u),(()=>t.break()))}))}))}!function(){for(const e of a)c&&d(e),s.allErrors?f(e):(t.var(u,!0),f(e),t.if(u))}()}}};var be={default:{keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:r,it:n}=e;if(Z.alwaysValidSchema(n,r))return void e.fail();const o=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},o),e.result(o,(()=>e.error()),(()=>e.reset()))},error:{message:"should NOT be valid"}}};const _e={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:L.validateUnion,error:{message:"should match some schema in anyOf"}};function Se(e,t){const r=e.schema[t];return void 0!==r&&!Z.alwaysValidSchema(e,r)}var Ee={default:[be.default,{default:_e}.default,{default:{keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"should match exactly one schema in oneOf",params:({params:e})=>V._`{passingSchemas: ${e.passing}}`},code(e){const{gen:t,schema:r,it:n}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");const o=r,s=t.let("valid",!1),i=t.let("passing",null),a=t.name("_valid");e.setParams({passing:i}),t.block((function(){o.forEach(((r,o)=>{let c;Z.alwaysValidSchema(n,r)?t.var(a,!0):c=e.subschema({keyword:"oneOf",schemaProp:o,compositeRule:!0},a),o>0&&t.if(V._`${a} && ${s}`).assign(s,!1).assign(i,V._`[${i}, ${o}]`).else(),t.if(a,(()=>{t.assign(s,!0),t.assign(i,o),c&&e.mergeEvaluated(c,V.Name)}))}))})),e.result(s,(()=>e.reset()),(()=>e.error(!0)))}}}.default,{default:{keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:r,it:n}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");const o=t.name("valid");r.forEach(((t,r)=>{if(Z.alwaysValidSchema(n,t))return;const s=e.subschema({keyword:"allOf",schemaProp:r},o);e.ok(o),e.mergeEvaluated(s)}))}}}.default,{default:{keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:e})=>V.str`should match "${e.ifClause}" schema`,params:({params:e})=>V._`{failingKeyword: ${e.ifClause}}`},code(e){const{gen:t,parentSchema:r,it:n}=e;void 0===r.then&&void 0===r.else&&Q.checkStrictMode(n,'"if" without "then" and "else" is ignored');const o=Se(n,"then"),s=Se(n,"else");if(!o&&!s)return;const i=t.let("valid",!0),a=t.name("_valid");if(function(){const t=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},a);e.mergeEvaluated(t)}(),e.reset(),o&&s){const r=t.let("ifClause");e.setParams({ifClause:r}),t.if(a,c("then",r),c("else",r))}else o?t.if(a,c("then")):t.if(V.not(a),c("else"));function c(r,n){return()=>{const o=e.subschema({keyword:r},a);t.assign(i,a),e.mergeValidEvaluated(o,i),n?t.assign(n,V._`${r}`):e.setParams({ifClause:r})}}e.pass(i,(()=>e.error(!0)))}}}.default,{default:{keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){void 0===t.if&&Q.checkStrictMode(r,`"${e}" without "if" is ignored`)}}}.default,he.default,pe.default,me.default,ve.default,ge.default,ye.default,$e.default,we.default]};const xe={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:e})=>V.str`should match format "${e}"`,params:({schemaCode:e})=>V._`{format: ${e}}`},code(e,t){const{gen:r,data:n,$data:o,schema:s,schemaCode:i,it:a}=e,{opts:c,errSchemaPath:u,schemaEnv:l,self:d}=a;c.validateFormats&&(o?function(){const o=r.scopeValue("formats",{ref:d.formats,code:c.code.formats}),s=r.const("fDef",V._`${o}[${i}]`),a=r.let("fType"),u=r.let("format");r.if(V._`typeof ${s} == "object" && !(${s} instanceof RegExp)`,(()=>r.assign(a,V._`${s}.type || "string"`).assign(u,V._`${s}.validate`)),(()=>r.assign(a,V._`"string"`).assign(u,s))),e.fail$data(V.or(!1===c.strict?V.nil:V._`${i} && !${u}`,function(){const e=l.$async?V._`(${s}.async ? await ${u}(${n}) : ${u}(${n}))`:V._`${u}(${n})`,r=V._`(typeof ${u} == "function" ? ${e} : ${u}.test(${n}))`;return V._`${u} && ${u} !== true && ${a} === ${t} && !${r}`}()))}():function(){const o=d.formats[s];if(!o)return void function(){if(!1===c.strict)return void d.logger.warn(e());throw new Error(e());function e(){return`unknown format "${s}" ignored in schema at path "${u}"`}}();if(!0===o)return;const[i,a,f]=function(e){const t=r.scopeValue("formats",{key:s,ref:e,code:c.code.formats?V._`${c.code.formats}${V.getProperty(s)}`:void 0});if("object"==typeof e&&!(e instanceof RegExp))return[e.type||"string",e.validate,V._`${t}.validate`];return["string",e,t]}(o);i===t&&e.pass(function(){if("object"==typeof o&&!(o instanceof RegExp)&&o.async){if(!l.$async)throw new Error("async format in sync schema");return V._`await ${f}(${n})`}return"function"==typeof a?V._`${f}(${n})`:V._`${f}.test(${n})`}())}())}};var Pe={default:[{default:xe}.default]},je=E((function(e,t){t.contentVocabulary=t.metadataVocabulary=void 0,t.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],t.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]}));var Ne={default:[ie.default,fe.default,Ee.default,Pe.default,je.metadataVocabulary,je.contentVocabulary]},ke={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0},Ce=E((function(e,t){t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0,t.KeywordCxt=X.default,Object.defineProperty(t,"_",{enumerable:!0,get:function(){return V._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return V.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return V.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return V.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return V.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return V.CodeGen}});const r=["/properties"],n="http://json-schema.org/draft-07/schema";class o extends ne.default{_addVocabularies(){super._addVocabularies(),Ne.default.forEach((e=>this.addVocabulary(e)))}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const e=this.opts.$data?this.$dataMetaSchema(ke,r):ke;this.addMetaSchema(e,n,!1),this.refs["http://json-schema.org/schema"]=n}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(n)?n:void 0)}}t.default=o})),Ie=E((function(e,t){t.isntJsonRpcError=t.isJsonRpcError=t.isntJsonRpcSuccess=t.isJsonRpcSuccess=t.isntJsonRpcRequest=t.isJsonRpcRequest=t.isntJsonRpcNotification=t.isJsonRpcNotification=void 0;const r={oneOf:[{type:"string"},{type:"number"}]},n={oneOf:[{type:"array"},{type:"object"}]},o={type:"object",properties:{jsonrpc:{type:"string"},method:{type:"string"},params:n,id:!1},required:["jsonrpc","method"]},s={type:"object",properties:{jsonrpc:{type:"string"},id:r,method:{type:"string"},params:n},required:["jsonrpc","id","method"]},i={type:"object",properties:{jsonrpc:{type:"string"},id:r,result:{}},required:["jsonrpc","id","result"]},a={type:"object",properties:{jsonrpc:{type:"string"},id:r,error:{type:"object",properties:{code:{type:"number"},message:{type:"string"},data:{}},required:["code","message"]}},required:["jsonrpc","id","error"]};let c;function u(e){return c||(c=new Ce.default),c.validate(o,e)}function l(e){return c||(c=new Ce.default),c.validate(s,e)}function d(e){return c||(c=new Ce.default),c.validate(i,e)}function f(e){return c||(c=new Ce.default),c.validate(a,e)}t.isJsonRpcNotification=u,t.isntJsonRpcNotification=function(e){return!u(e)},t.isJsonRpcRequest=l,t.isntJsonRpcRequest=function(e){return!l(e)},t.isJsonRpcSuccess=d,t.isntJsonRpcSuccess=function(e){return!d(e)},t.isJsonRpcError=f,t.isntJsonRpcError=function(e){return!f(e)}})),Oe=E((function(e,t){t.isntJson=t.isJson=void 0,t.isJson=function(e){try{return JSON.stringify(e),!0}catch(e){return!1}},t.isntJson=function e(t){return!e()}})),Ae=E((function(e,t){function r(e){return"number"==typeof e}t.isntNumber=t.isNumber=void 0,t.isNumber=r,t.isntNumber=function(e){return!r(e)}})),Re=E((function(e,t){function r(e){return null!==e&&"object"==typeof e}t.isntObject=t.isObject=void 0,t.isObject=r,t.isntObject=function(e){return!r(e)}})),Te=E((function(e,t){t.isAbsoluteURL=void 0,t.isAbsoluteURL=function(e){try{return new URL(e),!0}catch(e){return!1}}})),De=E((function(e,t){var r=_&&_.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),n=_&&_.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};n(j,t),n(k,t),n(C,t),n(I,t),n(O,t),n(Ie,t),n(Oe,t),n(x,t),n(Ae,t),n(Re,t),n(N,t),n(P,t),n(Te,t)})),Ve=Object.freeze({__proto__:null}),Ue=Object.freeze({__proto__:null}),Fe=Object.freeze({__proto__:null}),ze=Object.freeze({__proto__:null}),Me=Object.freeze({__proto__:null}),qe=Object.freeze({__proto__:null}),Le=Object.freeze({__proto__:null}),Ke=Object.freeze({__proto__:null}),Je=Object.freeze({__proto__:null}),He=Object.freeze({__proto__:null}),Ge=Object.freeze({__proto__:null}),Be=S(Ve),We=S(Ue),Qe=S(Fe),Ze=S(ze),Ye=S(Me),Xe=S(qe),et=S(Le),tt=S(Ke),rt=S(Je),nt=S(He),ot=S(Ge),st=E((function(e,t){var r=_&&_.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),n=_&&_.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};n(Be,t),n(We,t),n(Qe,t),n(Ze,t),n(Ye,t),n(Xe,t),n(et,t),n(tt,t),n(rt,t),n(nt,t),n(ot,t)})),it=E((function(e,t){var r=_&&_.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),n=_&&_.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};n(De,t),n(st,t)}));function at(e,t){return function*e(r,n){for(const s of r)o=s,it.isIterable(o)&&it.isntChar(o)&&t(s,n)?yield*e(s,n+1):yield s;var o}(e,1)}function ct(e,t=1/0){if(t<0)throw new a("depth",">= 0");return at(e,((e,r)=>r<=t))}function ut(e){return ct(e,1)}function*lt(e,t){let r=0;for(const n of e)yield t(n,r),r++}function dt(e,t){if(t<0)throw new a("times",">= 0");return t===1/0&&function(){if("production"===process.env.NODE_ENV)return;console.warn("When iterable has no elements and times is Infinity, repeat() will be in dead loop")}(),function*(){const r=[];if(t>0){for(const t of e)yield t,r.push(t);t--}for(;t>0;)yield*r,t--}()}function ft(e,t,r=1/0){if(t<0)throw new a("start",">= 0");if(r<t)throw new a("end",">= start");return function*(){let n=0;for(const o of e){if(n>=r)break;n>=t&&(yield o),n++}}()}function*ht(e,t){let r=[],n=0;for(const o of e)t(o,n)?(yield r,r=[]):r.push(o),n++;yield r}function*pt(e,t){let r=[];for(const n of e)n===t?(yield r,r=[]):r.push(n);yield r}function mt(e,t){if(t<0)throw new a("count",">= 0");return function*(){const r=e[Symbol.iterator](),n=[];let o;for(;o=r.next(),!o.done;)n.push(o.value),n.length>t&&n.shift();yield*n}()}function*yt(e,t){let r=0;for(const n of e){if(t(n,r))break;yield n,r++}}function vt(e,t){if(t<0)throw new a("count",">= 0");return function*(){if(0!==t)for(const r of e)if(yield r,0===--t)break}()}function*gt(e,t){let r=0;for(const n of e)t(n,r),yield n,r++}function $t(e){return h(this,arguments,(function*(){for(const t of e)yield yield f(t)}))}function wt(e,t){return h(this,arguments,(function*(){yield f(yield*p(m(t(e))))}))}class bt extends t{transformAsync(...e){return Mr(this.subject,wt,e)}}function*_t(e,t){yield*t(e)}function*St(e,t){const r=new Set;let n=0;for(const o of e){const e=t(o,n);r.has(e)||(yield o,r.add(e)),n++}}function*Et(e){const t=new Set;for(const r of e)t.has(r)||(yield r,t.add(r))}function xt(e,...t){return function*(...e){const t=e.length,r=e.map((e=>e[Symbol.iterator]()));for(;;){const e=new Array(t);for(let n=0;n<t;n++){const{value:t,done:o}=r[n].next();if(o)return;e[n]=t}yield e}}(e,...t)}function Pt(e,t){return it.isAsyncIterable(e)?function(e){return h(this,arguments,(function*(){var r,n;let o=[],s=0;try{for(var i,a=m(e);!(i=yield f(a.next())).done;){const e=i.value;o.push(e),(yield f(t(e,s)))&&(yield yield f(o),o=[]),s++}}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=a.return)&&(yield f(n.call(a)))}finally{if(r)throw r.error}}o.length&&(yield yield f(o))}))}(e):function(e){return h(this,arguments,(function*(){let r=[],n=0;for(const o of e)r.push(o),(yield f(t(o,n)))&&(yield yield f(r),r=[]),n++;r.length&&(yield yield f(r))}))}(e)}class jt extends t{chunkByAsync(...e){return Mr(this.subject,Pt,e)}}function Nt(e,...t){return function(){return h(this,arguments,(function*(){var r,n;for(const i of[e,...t])if(it.isAsyncIterable(i))try{for(var o,s=(r=void 0,m(i));!(o=yield f(s.next())).done;){const e=o.value;yield yield f(e)}}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=s.return)&&(yield f(n.call(s)))}finally{if(r)throw r.error}}else for(const e of i)yield yield f(e)}))}()}class kt extends t{concatAsync(...e){return Mr(this.subject,Nt,e)}}function Ct(e,t){return it.isAsyncIterable(e)?function(e){return h(this,arguments,(function*(){const r=e[Symbol.asyncIterator]();let n,o=0;for(;!(n=yield f(r.next()),n.done||(yield f(t(n.value,o++)))););for(;!n.done;)yield yield f(n.value),n=yield f(r.next())}))}(e):function(e){return h(this,arguments,(function*(){const r=e[Symbol.iterator]();let n,o=0;for(;!(n=r.next(),n.done||(yield f(t(n.value,o++)))););for(;!n.done;)yield yield f(n.value),n=r.next()}))}(e)}class It extends t{dropUntilAsync(...e){return Mr(this.subject,Ct,e)}}function Ot(e,t){return it.isAsyncIterable(e)?function(e){return h(this,arguments,(function*(){var r,n;let o=0;try{for(var s,i=m(e);!(s=yield f(i.next())).done;){const e=s.value;(yield f(t(e,o)))&&(yield yield f(e)),o++}}catch(e){r={error:e}}finally{try{s&&!s.done&&(n=i.return)&&(yield f(n.call(i)))}finally{if(r)throw r.error}}}))}(e):function(e){return h(this,arguments,(function*(){let r=0;for(const n of e)(yield f(t(n,r)))&&(yield yield f(n)),r++}))}(e)}class At extends t{filterAsync(...e){return Mr(this.subject,Ot,e)}}function Rt(e,t){return it.isAsyncIterable(e)?function(e){return h(this,arguments,(function*(){var n,o;const s=1;try{for(var i,a=m(e);!(i=yield f(a.next())).done;){const e=i.value;Tt(e)&&(yield f(t(e,s)))?yield f(yield*p(m(r(e,s+1)))):yield yield f(e)}}catch(e){n={error:e}}finally{try{i&&!i.done&&(o=a.return)&&(yield f(o.call(a)))}finally{if(n)throw n.error}}}))}(e):function(e){return r(e,1)}(e);function r(e,n){return h(this,arguments,(function*(){for(const o of e)Tt(o)&&(yield f(t(o,n)))?yield f(yield*p(m(r(o,n+1)))):yield yield f(o)}))}}function Tt(e){return it.isIterable(e)&&it.isntChar(e)}class Dt extends t{flattenByAsync(...e){return Mr(this.subject,Rt,e)}}function Vt(e,t){return it.isAsyncIterable(e)?function(e){return h(this,arguments,(function*(){var r,n;let o=0;try{for(var s,i=m(e);!(s=yield f(i.next())).done;){const e=s.value;yield yield f(yield f(t(e,o))),o++}}catch(e){r={error:e}}finally{try{s&&!s.done&&(n=i.return)&&(yield f(n.call(i)))}finally{if(r)throw r.error}}}))}(e):function(e){return h(this,arguments,(function*(){let r=0;for(const n of e)yield yield f(yield f(t(n,r))),r++}))}(e)}class Ut extends t{mapAsync(...e){return Mr(this.subject,Vt,e)}}function Ft(e,t){return it.isAsyncIterable(e)?function(e){return h(this,arguments,(function*(){var r,n;let o=[],s=0;try{for(var i,a=m(e);!(i=yield f(a.next())).done;){const e=i.value;(yield f(t(e,s)))?(yield yield f(o),o=[]):o.push(e),s++}}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=a.return)&&(yield f(n.call(a)))}finally{if(r)throw r.error}}yield yield f(o)}))}(e):function(e){return h(this,arguments,(function*(){let r=[],n=0;for(const o of e)(yield f(t(o,n)))?(yield yield f(r),r=[]):r.push(o),n++;yield yield f(r)}))}(e)}class zt extends t{splitByAsync(...e){return Mr(this.subject,Ft,e)}}function Mt(e,t){return it.isAsyncIterable(e)?function(e){return h(this,arguments,(function*(){var r,n;let o=0;try{for(var s,i=m(e);!(s=yield f(i.next())).done;){const e=s.value;if(yield f(t(e,o)))break;yield yield f(e),o++}}catch(e){r={error:e}}finally{try{s&&!s.done&&(n=i.return)&&(yield f(n.call(i)))}finally{if(r)throw r.error}}}))}(e):function(e){return h(this,arguments,(function*(){let r=0;for(const n of e){if(yield f(t(n,r)))break;yield yield f(n),r++}}))}(e)}class qt extends t{takeUntilAsync(...e){return Mr(this.subject,Mt,e)}}function Lt(e,t){return it.isAsyncIterable(e)?function(e){return h(this,arguments,(function*(){var r,n;let o=0;try{for(var s,i=m(e);!(s=yield f(i.next())).done;){const e=s.value;yield f(t(e,o)),yield yield f(e),o++}}catch(e){r={error:e}}finally{try{s&&!s.done&&(n=i.return)&&(yield f(n.call(i)))}finally{if(r)throw r.error}}}))}(e):function(e){return h(this,arguments,(function*(){let r=0;for(const n of e)yield f(t(n,r)),yield yield f(n),r++}))}(e)}class Kt extends t{tapAsync(...e){return Mr(this.subject,Lt,e)}}function Jt(e,t){return it.isAsyncIterable(e)?function(e){return h(this,arguments,(function*(){var r,n;const o=new Set;let s=0;try{for(var i,a=m(e);!(i=yield f(a.next())).done;){const e=i.value,r=yield f(t(e,s));o.has(r)||(yield yield f(e),o.add(r)),s++}}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=a.return)&&(yield f(n.call(a)))}finally{if(r)throw r.error}}}))}(e):function(e){return h(this,arguments,(function*(){const r=new Set;let n=0;for(const o of e){const e=yield f(t(o,n));r.has(e)||(yield yield f(o),r.add(e)),n++}}))}(e)}class Ht extends t{uniqByAsync(...e){return Mr(this.subject,Jt,e)}}function Gt(e,...t){return function(...e){return h(this,arguments,(function*(){const t=e.length,r=e.map((e=>it.isAsyncIterable(e)?[Symbol.asyncIterator,e[Symbol.asyncIterator]()]:[Symbol.iterator,e[Symbol.iterator]()]));for(;;){const e=new Array(t);for(let n=0;n<t;n++){const[t,o]=r[n];let s;if(s=t===Symbol.asyncIterator?yield f(o.next()):o.next(),s.done)return yield f(void 0);e[n]=s.value}yield yield f(e)}}))}(e,...t)}class Bt extends t{zipAsync(...e){return Mr(this.subject,Gt,e)}}function Wt(e,t){return t(e)}class Qt extends t{consume(...e){return Fr(this.subject,Wt,e)}}function Zt(e,t){let r=0;for(const n of e)t(n,r),r++}function Yt(e,t){let r=0;for(const n of e){if(!t(n,r))return!1;r++}return!0}function Xt(e,t){let r=0;for(const n of e){if(t(n,r))return n;r++}throw new i("Iterable has no matched elements")}function er(e){for(const t of e)return t;throw new i("Iterable is empty")}function tr(e,t){for(const r of e)if(r===t)return!0;return!1}function rr(e,t){const r=t.length;let n=0;for(const o of e)if(o===t[n]&&n++,n===r)return!0;return!1}function nr(e,t,r){return it.isUndefined(r)?function(e,t){const[r,n]=a(e);let o=r,s=1;for(;;){const e=n.next();if(e.done)break;o=t(o,e.value,s++)}return o;function a(e){const[[t],r]=c(e,1);return[t,r]}function c(e,t){const r=e[Symbol.iterator](),n=[];for(;t>0;){const e=r.next();if(e.done)throw new i("Reduce of empty iterable with no initial value");n.push(e.value),t--}return[n,r]}}(e,t):function(e,t,r){let n=r,o=0;for(const r of e)n=t(n,r,o++);return n}(e,t,r)}function or(e,t){let r=0;for(const n of e){if(t(n,r))return!0;r++}return!1}function sr(e){const t=e[Symbol.iterator]();let{value:r,done:n}=t.next();if(n)throw new i("Iterable is empty");let o=r;for(;({value:r,done:n}=t.next()),!n;)o=r;return o}function ir(e){return Wt(e,(e=>Array.from(e)))}function ar(e){return Wt(e,(e=>new Set(e)))}function cr(e,t){return it.isAsyncIterable(e)?function(e){var r,n,o,s;return l(this,void 0,void 0,(function*(){let i=0;try{for(r=m(e);!(n=yield r.next()).done;){const e=n.value;yield t(e,i),i++}}catch(e){o={error:e}}finally{try{n&&!n.done&&(s=r.return)&&(yield s.call(r))}finally{if(o)throw o.error}}}))}(e):function(e){return l(this,void 0,void 0,(function*(){let r=0;for(const n of e)yield t(n,r),r++}))}(e)}class ur extends t{eachAsync(...e){return Fr(this.subject,cr,e)}}function lr(e,t){return it.isAsyncIterable(e)?function(e){var r,n,o,s;return l(this,void 0,void 0,(function*(){let i=0;try{for(r=m(e);!(n=yield r.next()).done;){const e=n.value;if(!(yield t(e,i)))return!1;i++}}catch(e){o={error:e}}finally{try{n&&!n.done&&(s=r.return)&&(yield s.call(r))}finally{if(o)throw o.error}}return!0}))}(e):function(e){return l(this,void 0,void 0,(function*(){let r=0;for(const n of e){if(!(yield t(n,r)))return!1;r++}return!0}))}(e)}class dr extends t{everyAsync(...e){return Fr(this.subject,lr,e)}}function fr(e,t){return it.isAsyncIterable(e)?function(e){var r,n,o,s;return l(this,void 0,void 0,(function*(){let a=0;try{for(r=m(e);!(n=yield r.next()).done;){const e=n.value;if(yield t(e,a))return e;a++}}catch(e){o={error:e}}finally{try{n&&!n.done&&(s=r.return)&&(yield s.call(r))}finally{if(o)throw o.error}}throw new i("Iterable has no matched elements")}))}(e):function(e){return l(this,void 0,void 0,(function*(){let r=0;for(const n of e){if(yield t(n,r))return n;r++}throw new i("Iterable has no matched elements")}))}(e)}class hr extends t{findAsync(...e){return Fr(this.subject,fr,e)}}function pr(e,t,r){return it.isUndefined(r)?function(e,t){return it.isAsyncIterable(e)?r(e):n(e);function r(e){return l(this,void 0,void 0,(function*(){const[r,n]=yield a(e);let o=r,s=1;for(;;){const e=yield n.next();if(e.done)break;const r=e.value;o=yield t(o,r,s++)}return o;function a(e){return l(this,void 0,void 0,(function*(){const[[t],r]=yield c(e,1);return[t,r]}))}function c(e,t){return l(this,void 0,void 0,(function*(){const r=e[Symbol.asyncIterator](),n=[];for(;t>0;){const e=yield r.next();if(e.done)throw new i("Reduce of empty iterable with no initial value");n.push(e.value),t--}return[n,r]}))}}))}function n(e){return l(this,void 0,void 0,(function*(){const[r,n]=a(e);let o=r,s=1;for(;;){const e=n.next();if(e.done)break;const r=e.value;o=yield t(o,r,s++)}return o;function a(e){const[[t],r]=c(e,1);return[t,r]}function c(e,t){const r=e[Symbol.iterator](),n=[];for(;t>0;){const e=r.next();if(e.done)throw new i("Reduce of empty iterable with no initial value");n.push(e.value),t--}return[n,r]}}))}}(e,t):function(e,t,r){return it.isAsyncIterable(e)?o(e):n(e);function n(e){return l(this,void 0,void 0,(function*(){let n=r,o=0;for(const r of e)n=yield t(n,r,o++);return n}))}function o(e){var n,o,s,i;return l(this,void 0,void 0,(function*(){let a=r,c=0;try{for(n=m(e);!(o=yield n.next()).done;){const e=o.value;a=yield t(a,e,c++)}}catch(e){s={error:e}}finally{try{o&&!o.done&&(i=n.return)&&(yield i.call(n))}finally{if(s)throw s.error}}return a}))}}(e,t,r)}class mr extends t{reduceAsync(...e){return Fr(this.subject,pr,e)}}function yr(e,t){return it.isAsyncIterable(e)?function(e){var r,n,o,s;return l(this,void 0,void 0,(function*(){let i=0;try{for(r=m(e);!(n=yield r.next()).done;){const e=n.value;if(yield t(e,i))return!0;i++}}catch(e){o={error:e}}finally{try{n&&!n.done&&(s=r.return)&&(yield s.call(r))}finally{if(o)throw o.error}}return!1}))}(e):function(e){return l(this,void 0,void 0,(function*(){let r=0;for(const n of e){if(yield t(n,r))return!0;r++}return!1}))}(e)}class vr extends t{someAsync(...e){return Fr(this.subject,yr,e)}}class gr extends r{}e(gr,[class extends r{chunk(...e){return zr(this.subject,c,e)}},class extends r{chunkBy(...e){return zr(this.subject,n,e)}},class extends r{concat(...e){return zr(this.subject,u,e)}},class extends r{dropRight(...e){return zr(this.subject,g,e)}},class extends r{dropUntil(...e){return zr(this.subject,$,e)}},class extends r{drop(...e){return zr(this.subject,w,e)}},class extends r{filter(...e){return zr(this.subject,b,e)}},class extends r{flattenBy(...e){return zr(this.subject,at,e)}},class extends r{flattenDeep(...e){return zr(this.subject,ct,e)}},class extends r{flatten(...e){return zr(this.subject,ut,e)}},class extends r{map(...e){return zr(this.subject,lt,e)}},class extends r{repeat(...e){return zr(this.subject,dt,e)}},class extends r{slice(...e){return zr(this.subject,ft,e)}},class extends r{splitBy(...e){return zr(this.subject,ht,e)}},class extends r{split(...e){return zr(this.subject,pt,e)}},class extends r{takeRight(...e){return zr(this.subject,mt,e)}},class extends r{takeUntil(...e){return zr(this.subject,yt,e)}},class extends r{take(...e){return zr(this.subject,vt,e)}},class extends r{tap(...e){return zr(this.subject,gt,e)}},class extends r{transform(...e){return zr(this.subject,_t,e)}},class extends r{uniqBy(...e){return zr(this.subject,St,e)}},class extends r{uniq(...e){return zr(this.subject,Et,e)}},class extends r{zip(...e){return zr(this.subject,xt,e)}},jt,kt,It,At,Dt,Ut,zt,qt,Kt,class extends r{toAsyncIterable(...e){return Mr(this.subject,$t,e)}},bt,Ht,Bt,Qt,class extends r{each(...e){return Fr(this.subject,Zt,e)}},class extends r{every(...e){return Fr(this.subject,Yt,e)}},class extends r{find(...e){return Fr(this.subject,Xt,e)}},class extends r{first(...e){return Fr(this.subject,er,e)}},class extends r{includes(...e){return Fr(this.subject,tr,e)}},class extends r{match(...e){return Fr(this.subject,rr,e)}},class extends r{reduce(...e){return Fr(this.subject,nr,e)}},class extends r{some(...e){return Fr(this.subject,or,e)}},class extends r{last(...e){return Fr(this.subject,sr,e)}},class extends r{toArray(...e){return Fr(this.subject,ir,e)}},class extends r{toSet(...e){return Fr(this.subject,ar,e)}},ur,dr,hr,mr,vr]);class $r extends t{[Symbol.asyncIterator](){return this.subject[Symbol.asyncIterator]()}}function wr(e,t){if(t<=0)throw new a("size","> 0");return function(){return h(this,arguments,(function*(){var r,n;let o=[];try{for(var s,i=m(e);!(s=yield f(i.next())).done;){const e=s.value;o.push(e),o.length>=t&&(yield yield f(o),o=[])}}catch(e){r={error:e}}finally{try{s&&!s.done&&(n=i.return)&&(yield f(n.call(i)))}finally{if(r)throw r.error}}o.length&&(yield yield f(o))}))}()}function br(e,t){if(t<0)throw new a("count",">= 0");return 0===t?y(e):function(){return h(this,arguments,(function*(){const r=e[Symbol.asyncIterator]();let n;for(;!(n=yield f(r.next()),n.done||t<=0);)t--;for(;!n.done;)yield yield f(n.value),n=yield f(r.next())}))}()}function _r(e,t){if(t<0)throw new a("count",">= 0");return 0===t?y(e):function(){return h(this,arguments,(function*(){const r=(yield f(Sr(e))).slice(0,-t);for(const e of r)yield yield f(e)}))}()}function Sr(e){var t,r,n,o;return l(this,void 0,void 0,(function*(){const s=[];try{for(t=m(e);!(r=yield t.next()).done;){const e=r.value;s.push(e)}}catch(e){n={error:e}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(n)throw n.error}}return s}))}function Er(e,t=1/0){if(t<0)throw new a("depth",">= 0");return Rt(e,((e,r)=>r<=t))}function xr(e){return Er(e,1)}function Pr(e,t){if(t<0)throw new a("times",">= 0");return t===1/0&&function(){if("production"===process.env.NODE_ENV)return;console.warn("When iterable has no elements and times is Infinity, repeat() will be in dead loop")}(),function(){return h(this,arguments,(function*(){var r,n;const o=[];if(t>0){try{for(var s,i=m(e);!(s=yield f(i.next())).done;){const e=s.value;yield yield f(e),o.push(e)}}catch(e){r={error:e}}finally{try{s&&!s.done&&(n=i.return)&&(yield f(n.call(i)))}finally{if(r)throw r.error}}t--}for(;t>0;)yield f(yield*p(m(o))),t--}))}()}function jr(e,t,r=1/0){if(t<0)throw new a("start",">= 0");if(r<t)throw new a("end",">= start");return function(){return h(this,arguments,(function*(){var n,o;let s=0;try{for(var i,a=m(e);!(i=yield f(a.next())).done;){const e=i.value;if(s>=r)break;s>=t&&(yield yield f(e)),s++}}catch(e){n={error:e}}finally{try{i&&!i.done&&(o=a.return)&&(yield f(o.call(a)))}finally{if(n)throw n.error}}}))}()}function Nr(e,t){return h(this,arguments,(function*(){var r,n;let o=[];try{for(var s,i=m(e);!(s=yield f(i.next())).done;){const e=s.value;e===t?(yield yield f(o),o=[]):o.push(e)}}catch(e){r={error:e}}finally{try{s&&!s.done&&(n=i.return)&&(yield f(n.call(i)))}finally{if(r)throw r.error}}yield yield f(o)}))}function kr(e,t){if(t<0)throw new a("count",">= 0");return function(){return h(this,arguments,(function*(){var r,n;if(0===t)return yield f(void 0);try{for(var o,s=m(e);!(o=yield f(s.next())).done;){const e=o.value;if(yield yield f(e),0===--t)break}}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=s.return)&&(yield f(n.call(s)))}finally{if(r)throw r.error}}}))}()}function Cr(e,t){if(t<0)throw new a("count",">= 0");return function(){return h(this,arguments,(function*(){const r=e[Symbol.asyncIterator](),n=[];let o;for(;o=yield f(r.next()),!o.done;)n.push(o.value),n.length>t&&n.shift();yield f(yield*p(m(n)))}))}()}function Ir(e){return h(this,arguments,(function*(){var t,r;const n=new Set;try{for(var o,s=m(e);!(o=yield f(s.next())).done;){const e=o.value;n.has(e)||(yield yield f(e),n.add(e))}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=s.return)&&(yield f(r.call(s)))}finally{if(t)throw t.error}}}))}function Or(e){var t,r,n,o;return l(this,void 0,void 0,(function*(){try{for(t=m(e);!(r=yield t.next()).done;){return r.value}}catch(e){n={error:e}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(n)throw n.error}}throw new i("Iterable is empty")}))}function Ar(e,t){var r,n,o,s;return l(this,void 0,void 0,(function*(){try{for(r=m(e);!(n=yield r.next()).done;){if(n.value===t)return!0}}catch(e){o={error:e}}finally{try{n&&!n.done&&(s=r.return)&&(yield s.call(r))}finally{if(o)throw o.error}}return!1}))}function Rr(e,t){var r,n,o,s;return l(this,void 0,void 0,(function*(){const i=t.length;let a=0;try{for(r=m(e);!(n=yield r.next()).done;){if(n.value===t[a]&&a++,a===i)return!0}}catch(e){o={error:e}}finally{try{n&&!n.done&&(s=r.return)&&(yield s.call(r))}finally{if(o)throw o.error}}return!1}))}function Tr(e){return l(this,void 0,void 0,(function*(){const t=e[Symbol.asyncIterator]();let{value:r,done:n}=yield t.next();if(n)throw new i("Iterable is empty");let o=r;for(;({value:r,done:n}=yield t.next()),!n;)o=r;return o}))}function Dr(e){return Wt(e,(e=>{var t,r;return l(this,void 0,void 0,(function*(){var n,o;const s=[];try{for(t=m(e);!(r=yield t.next()).done;){const e=r.value;s.push(e)}}catch(e){n={error:e}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(n)throw n.error}}return s}))}))}function Vr(e){return Wt(e,(e=>{var t,r;return l(this,void 0,void 0,(function*(){var n,o;const s=new Set;try{for(t=m(e);!(r=yield t.next()).done;){const e=r.value;s.add(e)}}catch(e){n={error:e}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(n)throw n.error}}return s}))}))}class Ur extends $r{}function Fr(e,t,r){return t(e,...r)}function zr(e,t,r){return new gr(t(e,...r))}function Mr(e,t,r){return new Ur(t(e,...r))}function qr(...e){return Fr(this,wr,e)}function Lr(...e){return Fr(this,Pt,e)}function Kr(...e){return Fr(this,n,e)}function Jr(...e){return Fr(this,c,e)}function Hr(...e){return Fr(this,Nt,e)}function Gr(...e){return Fr(this,u,e)}function Br(...e){return Fr(this,br,e)}function Wr(...e){return Fr(this,_r,e)}function Qr(...e){return Fr(this,g,e)}function Zr(...e){return Fr(this,Ct,e)}function Yr(...e){return Fr(this,$,e)}function Xr(...e){return Fr(this,w,e)}function en(...e){return Fr(this,Ot,e)}function tn(...e){return Fr(this,b,e)}function rn(...e){return Fr(this,xr,e)}function nn(...e){return Fr(this,Rt,e)}function on(...e){return Fr(this,at,e)}function sn(...e){return Fr(this,Er,e)}function an(...e){return Fr(this,ct,e)}function cn(...e){return Fr(this,ut,e)}function un(...e){return Fr(this,Vt,e)}function ln(...e){return Fr(this,lt,e)}function dn(...e){return Fr(this,Pr,e)}function fn(...e){return Fr(this,dt,e)}function hn(...e){return Fr(this,jr,e)}function pn(...e){return Fr(this,ft,e)}function mn(...e){return Fr(this,Nr,e)}function yn(...e){return Fr(this,Ft,e)}function vn(...e){return Fr(this,ht,e)}function gn(...e){return Fr(this,pt,e)}function $n(...e){return Fr(this,kr,e)}function wn(...e){return Fr(this,Cr,e)}function bn(...e){return Fr(this,mt,e)}function _n(...e){return Fr(this,Mt,e)}function Sn(...e){return Fr(this,yt,e)}function En(...e){return Fr(this,vt,e)}function xn(...e){return Fr(this,Lt,e)}function Pn(...e){return Fr(this,gt,e)}function jn(...e){return Fr(this,$t,e)}function Nn(...e){return Fr(this,wt,e)}function kn(...e){return Fr(this,_t,e)}function Cn(...e){return Fr(this,Ir,e)}function In(...e){return Fr(this,Jt,e)}function On(...e){return Fr(this,St,e)}function An(...e){return Fr(this,Et,e)}function Rn(...e){return Fr(this,Gt,e)}function Tn(...e){return Fr(this,xt,e)}function Dn(...e){return Fr(this,Wt,e)}function Vn(...e){return Fr(this,cr,e)}function Un(...e){return Fr(this,Zt,e)}function Fn(...e){return Fr(this,lr,e)}function zn(...e){return Fr(this,Yt,e)}function Mn(...e){return Fr(this,fr,e)}function qn(...e){return Fr(this,Xt,e)}function Ln(...e){return Fr(this,Or,e)}function Kn(...e){return Fr(this,er,e)}function Jn(...e){return Fr(this,Ar,e)}function Hn(...e){return Fr(this,tr,e)}function Gn(...e){return Fr(this,Rr,e)}function Bn(...e){return Fr(this,rr,e)}function Wn(...e){return Fr(this,pr,e)}function Qn(...e){return Fr(this,nr,e)}function Zn(...e){return Fr(this,yr,e)}function Yn(...e){return Fr(this,or,e)}function Xn(...e){return Fr(this,Tr,e)}function eo(...e){return Fr(this,sr,e)}function to(...e){return Fr(this,Dr,e)}function ro(...e){return Fr(this,ir,e)}function no(...e){return Fr(this,Vr,e)}function oo(...e){return Fr(this,ar,e)}e(Ur,[class extends $r{chunkAsync(...e){return Mr(this.subject,wr,e)}},jt,kt,class extends $r{dropAsync(...e){return Mr(this.subject,br,e)}},class extends $r{dropRightAsync(...e){return Mr(this.subject,_r,e)}},It,At,class extends $r{flattenAsync(...e){return Mr(this.subject,xr,e)}},Dt,class extends $r{flattenDeepAsync(...e){return Mr(this.subject,Er,e)}},Ut,class extends $r{repeatAsync(...e){return Mr(this.subject,Pr,e)}},class extends $r{sliceAsync(...e){return Mr(this.subject,jr,e)}},class extends $r{splitAsync(...e){return Mr(this.subject,Nr,e)}},zt,class extends $r{takeAsync(...e){return Mr(this.subject,kr,e)}},class extends $r{takeRightAsync(...e){return Mr(this.subject,Cr,e)}},qt,Kt,bt,class extends $r{uniqAsync(...e){return Mr(this.subject,Ir,e)}},Ht,Bt,Qt,ur,dr,hr,class extends $r{firstAsync(...e){return Fr(this.subject,Or,e)}},class extends $r{includesAsync(...e){return Fr(this.subject,Ar,e)}},class extends $r{matchAsync(...e){return Fr(this.subject,Rr,e)}},mr,vr,class extends $r{lastAsync(...e){return Fr(this.subject,Tr,e)}},class extends $r{toArrayAsync(...e){return Fr(this.subject,Dr,e)}},class extends $r{toSetAsync(...e){return Fr(this.subject,Vr,e)}}]);export{a as InvalidArgumentError,i as RuntimeError,Jr as chunk,qr as chunkAsync,Kr as chunkBy,Lr as chunkByAsync,Gr as concat,Hr as concatAsync,Dn as consume,Xr as drop,Br as dropAsync,Qr as dropRight,Wr as dropRightAsync,Yr as dropUntil,Zr as dropUntilAsync,Un as each,Vn as eachAsync,zn as every,Fn as everyAsync,tn as filter,en as filterAsync,qn as find,Mn as findAsync,Kn as first,Ln as firstAsync,cn as flatten,rn as flattenAsync,on as flattenBy,nn as flattenByAsync,an as flattenDeep,sn as flattenDeepAsync,Hn as includes,Jn as includesAsync,eo as last,Xn as lastAsync,ln as map,un as mapAsync,Bn as match,Gn as matchAsync,Qn as reduce,Wn as reduceAsync,fn as repeat,dn as repeatAsync,pn as slice,hn as sliceAsync,Yn as some,Zn as someAsync,gn as split,mn as splitAsync,vn as splitBy,yn as splitByAsync,En as take,$n as takeAsync,bn as takeRight,wn as takeRightAsync,Sn as takeUntil,_n as takeUntilAsync,Pn as tap,xn as tapAsync,ro as toArray,to as toArrayAsync,jn as toAsyncIterable,oo as toSet,no as toSetAsync,kn as transform,Nn as transformAsync,An as uniq,Cn as uniqAsync,On as uniqBy,In as uniqByAsync,Tn as zip,Rn as zipAsync};
//# sourceMappingURL=binding.min.mjs.map
