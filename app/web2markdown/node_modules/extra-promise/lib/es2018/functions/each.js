"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.InvalidArgumentError = exports.each = void 0;
const parallel_1 = require("./parallel");
const check_concurrency_1 = require("../shared/check-concurrency");
Object.defineProperty(exports, "InvalidArgumentError", { enumerable: true, get: function () { return check_concurrency_1.InvalidArgumentError; } });
const iterable_operator_1 = require("iterable-operator");
function each(iterable, fn, concurrency = Infinity) {
    check_concurrency_1.checkConcurrency('concurrency', concurrency);
    return (async () => {
        const tasks = iterable_operator_1.map(iterable, (element, i) => () => fn(element, i));
        await parallel_1.parallel(tasks, concurrency);
    })();
}
exports.each = each;
//# sourceMappingURL=each.js.map