"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.parseWindows8Tiles = void 0;
const query_1 = require("@blackglory/query");
const iterable_operator_1 = require("iterable-operator/lib/es2015/style/chaining/iterable-operator");
const parse_html_1 = require("./utils/parse-html");
const elements_to_attributes_1 = require("./utils/elements-to-attributes");
function parseWindows8Tiles(html) {
    const document = parse_html_1.parseHTML(html);
    return getWindows8TileIcons(document);
}
exports.parseWindows8Tiles = parseWindows8Tiles;
function getWindows8TileIcons(document) {
    const nodes = query_1.query.call(document, query_1.css `meta[name="msapplication-TileImage"]`);
    return new iterable_operator_1.IterableOperator(nodes)
        .transform(elements_to_attributes_1.elementsToAttributes('content'))
        .map(createWindows8TileIcon)
        .toArray();
    function createWindows8TileIcon(url) {
        return {
            url,
            reference: 'msapplication-TileImage',
            type: null,
            size: null
        };
    }
}
//# sourceMappingURL=parse-windows8-tiles.js.map